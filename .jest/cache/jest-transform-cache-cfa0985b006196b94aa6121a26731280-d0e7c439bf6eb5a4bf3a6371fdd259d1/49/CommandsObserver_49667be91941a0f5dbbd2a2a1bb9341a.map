{"version":3,"sources":["CommandsObserver.js"],"names":["Object","defineProperty","exports","value","CommandsObserver","uniqueIdProvider","listeners","listener","id","generate","remove","commandName","params","values","forEach"],"mappings":"AAAA;;;;;;;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;IACMC,gB;AACF,4BAAYC,gBAAZ,EAA8B;AAAA;AAC1B,SAAKA,gBAAL,GAAwBA,gBAAxB;AACA,SAAKC,SAAL,GAAiB,EAAjB;AACH;;;;6BACQC,Q,EAAU;AAAA;;AACf,UAAMC,EAAE,GAAG,KAAKH,gBAAL,CAAsBI,QAAtB,EAAX;AACA,WAAKH,SAAL,CAAeE,EAAf,IAAqBD,QAArB;AACA,aAAO;AACHG,QAAAA,MAAM,EAAE;AAAA,iBAAM,OAAO,KAAI,CAACJ,SAAL,CAAeE,EAAf,CAAb;AAAA;AADL,OAAP;AAGH;;;2BACMG,W,EAAaC,M,EAAQ;AACxBZ,MAAAA,MAAM,CAACa,MAAP,CAAc,KAAKP,SAAnB,EAA8BQ,OAA9B,CAAsC,UAACP,QAAD;AAAA,eAAcA,QAAQ,CAACI,WAAD,EAAcC,MAAd,CAAtB;AAAA,OAAtC;AACH;;;;;AAELV,OAAO,CAACE,gBAAR,GAA2BA,gBAA3B","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass CommandsObserver {\n    constructor(uniqueIdProvider) {\n        this.uniqueIdProvider = uniqueIdProvider;\n        this.listeners = {};\n    }\n    register(listener) {\n        const id = this.uniqueIdProvider.generate();\n        this.listeners[id] = listener;\n        return {\n            remove: () => delete this.listeners[id]\n        };\n    }\n    notify(commandName, params) {\n        Object.values(this.listeners).forEach((listener) => listener(commandName, params));\n    }\n}\nexports.CommandsObserver = CommandsObserver;\n"]}