acf92f4330fa5a00d12771f5fd3cefb9
jest.mock("react-tracking");
jest.mock("react-tracking/build/dispatchTrackingEvent");
jest.mock("./lib/NativeModules/NotificationsManager.tsx", function () {
  return {
    NotificationsManager: {
      addListener: jest.fn()
    }
  };
});
jest.mock("@mapbox/react-native-mapbox-gl", function () {
  return {
    MapView: function MapView() {
      return null;
    },
    StyleURL: {
      Light: null
    },
    setAccessToken: function setAccessToken() {
      return jest.fn();
    },
    StyleSheet: {
      create: function create() {
        return jest.fn();
      }
    },
    ShapeSource: function ShapeSource() {
      return null;
    },
    SymbolLayer: function SymbolLayer() {
      return null;
    }
  };
});
jest.mock("./lib/utils/useScreenDimensions", function () {
  var React = require("react");

  var screenDimensions = {
    width: 380,
    height: 550,
    orientation: "portrait",
    safeAreaInsets: {
      top: 20,
      left: 0,
      right: 0,
      bottom: 0
    }
  };
  return {
    getCurrentScreenDimensions: function getCurrentScreenDimensions() {
      return screenDimensions;
    },
    ProvideScreenDimensions: function ProvideScreenDimensions(_ref) {
      var children = _ref.children;
      return React.createElement(React.Fragment, null, children);
    },
    useScreenDimensions: function useScreenDimensions() {
      return screenDimensions;
    }
  };
});

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));

var _chalk = _interopRequireDefault(require("chalk"));

var _enzyme = _interopRequireDefault(require("enzyme"));

var _enzymeAdapterReact = _interopRequireDefault(require("enzyme-adapter-react-16"));

var _expect = _interopRequireDefault(require("expect"));

var _util = require("util");

require("lib/tests/renderUntil");

var _snapshotDiff = _interopRequireDefault(require("snapshot-diff"));

var _reactTracking = _interopRequireDefault(require("react-tracking"));

var _reactNative = require("react-native");

_enzyme.default.configure({
  adapter: new _enzymeAdapterReact.default()
});

_expect.default.extend({
  toMatchDiffSnapshot: _snapshotDiff.default.toMatchDiffSnapshot
});

var track = _reactTracking.default;
track.mockImplementation(function (_) {
  return function (x) {
    return x;
  };
});

function mockedModule(path, mockModuleName) {
  jest.mock(path, function () {
    return mockModuleName;
  });
}

var originalConsoleError = console.error;

console.error = function (message) {
  if (typeof message === "string" && (message.includes("is using uppercase HTML. Always use lowercase HTML tags in React.") || /Warning: React does not recognize the `\w+` prop on a DOM element\./.test(message) || /Warning: The tag <\w+> is unrecognized in this browser\./.test(message) || /Warning: Unknown event handler property `\w+`\./.test(message) || /Warning: Received `\w+` for a non-boolean attribute `\w+`\./.test(message) || /Warning: [\w\s]+ has been extracted from react-native core/.test(message))) {} else {
    originalConsoleError(message);
  }
};

mockedModule("./lib/Components/SwitchView.tsx", "SwitchView");
mockedModule("./lib/Components/Spinner.tsx", "ARSpinner");
mockedModule("./lib/Components/OpaqueImageView/OpaqueImageView.tsx", "AROpaqueImageView");
mockedModule("./lib/Components/Artist/Shows/index.tsx", "PartnerShows");
mockedModule("./lib/Components/Artist/Artworks/index.tsx", "Artworks");
mockedModule("./lib/Components/Artist/Header.tsx", "Header");
mockedModule("./lib/Components/Artist/About.tsx", "About");
mockedModule("./lib/Components/Gene/Header.tsx", "Header");
_reactNative.NativeModules.ARTakeCameraPhotoModule = {
  errorCodes: {
    cameraNotAvailable: "cameraNotAvailable",
    imageMediaNotAvailable: "imageMediaNotAvailable",
    cameraAccessDenied: "cameraAccessDenied",
    saveFailed: "saveFailed"
  }
};
_reactNative.NativeModules.ARCocoaConstantsModule = {
  UIApplicationOpenSettingsURLString: "UIApplicationOpenSettingsURLString",
  AREnabled: true
};
_reactNative.NativeModules.Emission = {
  userAgent: "Jest Unit Tests"
};
_reactNative.NativeModules.ARSwitchBoardModule = {
  presentNavigationViewController: jest.fn(),
  presentModalViewController: jest.fn(),
  presentMediaPreviewController: jest.fn(),
  presentArtworksSet: jest.fn()
};

if (process.env.ALLOW_CONSOLE_LOGS !== "true") {
  var originalLoggers = {
    error: console.error,
    warn: console.warn
  };

  function logToError(type, args, constructorOpt) {
    var explanation = _chalk.default.white("Test failed due to `console." + type + "(\u2026)` call.\n") + _chalk.default.gray("(Disable with ALLOW_CONSOLE_LOGS=true env variable.)\n\n");

    if (args[0] instanceof Error) {
      var msg = explanation + _chalk.default.red(args[0].message);

      var err = new Error(msg);
      err.stack = args[0].stack.replace("Error: " + args[0].message, msg);
      return err;
    } else if (!args[0].includes("is using incorrect casing") && !args[0].includes("is unrecognized in this browser") && ![args[0].includes("React does not recognize the `testID` prop on a DOM element.")]) {
      var _err = new Error(explanation + _chalk.default.red(_util.format.apply(void 0, [args[0]].concat((0, _toConsumableArray2.default)(args.slice(1))))));

      Error.captureStackTrace(_err, constructorOpt);
      return _err;
    }

    return null;
  }

  beforeEach(function (done) {
    var types = ["error", "warn"];
    types.forEach(function (type) {
      if (console[type] === originalLoggers[type]) {
        var handler = function handler() {
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }

          var error = logToError(type, args, handler);

          if (error) {
            done.fail(error);
          }
        };

        jest.spyOn(console, type).mockImplementation(handler);
      }
    });
    done();
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNldHVwSmVzdC50cyJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsIk5vdGlmaWNhdGlvbnNNYW5hZ2VyIiwiYWRkTGlzdGVuZXIiLCJmbiIsIk1hcFZpZXciLCJTdHlsZVVSTCIsIkxpZ2h0Iiwic2V0QWNjZXNzVG9rZW4iLCJTdHlsZVNoZWV0IiwiY3JlYXRlIiwiU2hhcGVTb3VyY2UiLCJTeW1ib2xMYXllciIsIlJlYWN0IiwicmVxdWlyZSIsInNjcmVlbkRpbWVuc2lvbnMiLCJ3aWR0aCIsImhlaWdodCIsIm9yaWVudGF0aW9uIiwic2FmZUFyZWFJbnNldHMiLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJnZXRDdXJyZW50U2NyZWVuRGltZW5zaW9ucyIsIlByb3ZpZGVTY3JlZW5EaW1lbnNpb25zIiwiY2hpbGRyZW4iLCJjcmVhdGVFbGVtZW50IiwiRnJhZ21lbnQiLCJ1c2VTY3JlZW5EaW1lbnNpb25zIiwiRW56eW1lIiwiY29uZmlndXJlIiwiYWRhcHRlciIsIkFkYXB0ZXIiLCJleHBlY3QiLCJleHRlbmQiLCJ0b01hdGNoRGlmZlNuYXBzaG90IiwiZGlmZiIsInRyYWNrIiwiX3RyYWNrIiwibW9ja0ltcGxlbWVudGF0aW9uIiwiXyIsIngiLCJtb2NrZWRNb2R1bGUiLCJwYXRoIiwibW9ja01vZHVsZU5hbWUiLCJvcmlnaW5hbENvbnNvbGVFcnJvciIsImNvbnNvbGUiLCJlcnJvciIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsInRlc3QiLCJOYXRpdmVNb2R1bGVzIiwiQVJUYWtlQ2FtZXJhUGhvdG9Nb2R1bGUiLCJlcnJvckNvZGVzIiwiY2FtZXJhTm90QXZhaWxhYmxlIiwiaW1hZ2VNZWRpYU5vdEF2YWlsYWJsZSIsImNhbWVyYUFjY2Vzc0RlbmllZCIsInNhdmVGYWlsZWQiLCJBUkNvY29hQ29uc3RhbnRzTW9kdWxlIiwiVUlBcHBsaWNhdGlvbk9wZW5TZXR0aW5nc1VSTFN0cmluZyIsIkFSRW5hYmxlZCIsIkVtaXNzaW9uIiwidXNlckFnZW50IiwiQVJTd2l0Y2hCb2FyZE1vZHVsZSIsInByZXNlbnROYXZpZ2F0aW9uVmlld0NvbnRyb2xsZXIiLCJwcmVzZW50TW9kYWxWaWV3Q29udHJvbGxlciIsInByZXNlbnRNZWRpYVByZXZpZXdDb250cm9sbGVyIiwicHJlc2VudEFydHdvcmtzU2V0IiwicHJvY2VzcyIsImVudiIsIkFMTE9XX0NPTlNPTEVfTE9HUyIsIm9yaWdpbmFsTG9nZ2VycyIsIndhcm4iLCJsb2dUb0Vycm9yIiwidHlwZSIsImFyZ3MiLCJjb25zdHJ1Y3Rvck9wdCIsImV4cGxhbmF0aW9uIiwiY2hhbGsiLCJ3aGl0ZSIsImdyYXkiLCJFcnJvciIsIm1zZyIsInJlZCIsImVyciIsInN0YWNrIiwicmVwbGFjZSIsImZvcm1hdCIsInNsaWNlIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJiZWZvcmVFYWNoIiwiZG9uZSIsInR5cGVzIiwiZm9yRWFjaCIsImhhbmRsZXIiLCJmYWlsIiwic3B5T24iXSwibWFwcGluZ3MiOiJBQXNCQUEsSUFBSSxDQUFDQyxJQUFMLENBQVUsZ0JBQVY7QUFNQUQsSUFBSSxDQUFDQyxJQUFMLENBQVUsNENBQVY7QUFFQUQsSUFBSSxDQUFDQyxJQUFMLGlEQUEwRDtBQUFBLFNBQU87QUFDL0RDLElBQUFBLG9CQUFvQixFQUFFO0FBQ3BCQyxNQUFBQSxXQUFXLEVBQUVILElBQUksQ0FBQ0ksRUFBTDtBQURPO0FBRHlDLEdBQVA7QUFBQSxDQUExRDtBQU1BSixJQUFJLENBQUNDLElBQUwsQ0FBVSxnQ0FBVixFQUE0QztBQUFBLFNBQU87QUFDakRJLElBQUFBLE9BQU8sRUFBRTtBQUFBLGFBQU0sSUFBTjtBQUFBLEtBRHdDO0FBRWpEQyxJQUFBQSxRQUFRLEVBQUU7QUFDUkMsTUFBQUEsS0FBSyxFQUFFO0FBREMsS0FGdUM7QUFLakRDLElBQUFBLGNBQWMsRUFBRTtBQUFBLGFBQU1SLElBQUksQ0FBQ0ksRUFBTCxFQUFOO0FBQUEsS0FMaUM7QUFNakRLLElBQUFBLFVBQVUsRUFBRTtBQUNWQyxNQUFBQSxNQUFN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QXRDO0FBQ0QsYUFBT1EsSUFBUDtBQUNEOztBQUNELFdBQU8sSUFBUDtBQUNEOztBQUVETSxFQUFBQSxVQUFVLENBQUMsVUFBQUMsSUFBSSxFQUFJO0FBQ2pCLFFBQU1DLEtBQThCLEdBQUcsQ0FBQyxPQUFELEVBQVUsTUFBVixDQUF2QztBQUNBQSxJQUFBQSxLQUFLLENBQUNDLE9BQU4sQ0FBYyxVQUFBbkIsSUFBSSxFQUFJO0FBRXBCLFVBQUk1QixPQUFPLENBQUM0QixJQUFELENBQVAsS0FBa0JILGVBQWUsQ0FBQ0csSUFBRCxDQUFyQyxFQUE2QztBQUMzQyxZQUFNb0IsT0FBTyxHQUFHLFNBQVZBLE9BQVUsR0FBYTtBQUFBLDRDQUFUbkIsSUFBUztBQUFUQSxZQUFBQSxJQUFTO0FBQUE7O0FBQzNCLGNBQU01QixLQUFLLEdBQUcwQixVQUFVLENBQUNDLElBQUQsRUFBT0MsSUFBUCxFQUFhbUIsT0FBYixDQUF4Qjs7QUFDQSxjQUFJL0MsS0FBSixFQUFXO0FBQ1Q0QyxZQUFBQSxJQUFJLENBQUNJLElBQUwsQ0FBVWhELEtBQVY7QUFDRDtBQUNGLFNBTEQ7O0FBTUFoRCxRQUFBQSxJQUFJLENBQUNpRyxLQUFMLENBQVdsRCxPQUFYLEVBQW9CNEIsSUFBcEIsRUFBMEJuQyxrQkFBMUIsQ0FBNkN1RCxPQUE3QztBQUNEO0FBQ0YsS0FYRDtBQVlBSCxJQUFBQSxJQUFJO0FBQ0wsR0FmUyxDQUFWO0FBZ0JEIiwic291cmNlc0NvbnRlbnQiOlsiLy8gcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvaXNzdWVzLzE5OTU1XG4vLyBhbmQgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL21ldHJvL3B1bGwvMTk4XG4vL1xuLy8gaW1wb3J0IGFwcGx5RGVjb3JhdGVkRGVzY3JpcHRvciBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hcHBseURlY29yYXRlZERlc2NyaXB0b3JcIlxuLy8gaW1wb3J0IGluaXRpYWxpemVyRGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eVwiXG4vLyBkZWNsYXJlIHZhciBiYWJlbEhlbHBlcnM6IGFueVxuLy8gT2JqZWN0LmFzc2lnbihiYWJlbEhlbHBlcnMsIHsgYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yLCBpbml0aWFsaXplckRlZmluZVByb3BlcnR5IH0pXG4vLyBpbXBvcnQgXCJAYmFiZWwvcnVudGltZVwiXG5cbmltcG9ydCBjaGFsayBmcm9tIFwiY2hhbGtcIlxuaW1wb3J0IEVuenltZSBmcm9tIFwiZW56eW1lXCJcbmltcG9ydCBBZGFwdGVyIGZyb20gXCJlbnp5bWUtYWRhcHRlci1yZWFjdC0xNlwiXG5pbXBvcnQgZXhwZWN0IGZyb20gXCJleHBlY3RcIlxuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSBcInV0aWxcIlxuXG5pbXBvcnQgXCJsaWIvdGVzdHMvcmVuZGVyVW50aWxcIlxuRW56eW1lLmNvbmZpZ3VyZSh7IGFkYXB0ZXI6IG5ldyBBZGFwdGVyKCkgfSlcblxuLy8gV2FpdGluZyBvbiBodHRwczovL2dpdGh1Yi5jb20vdGh5bWlrZWUvc25hcHNob3QtZGlmZi9wdWxsLzE3XG5pbXBvcnQgZGlmZiBmcm9tIFwic25hcHNob3QtZGlmZlwiXG5leHBlY3QuZXh0ZW5kKHsgdG9NYXRjaERpZmZTbmFwc2hvdDogKGRpZmYgYXMgYW55KS50b01hdGNoRGlmZlNuYXBzaG90IH0pXG5cbmplc3QubW9jayhcInJlYWN0LXRyYWNraW5nXCIpXG5pbXBvcnQgX3RyYWNrIGZyb20gXCJyZWFjdC10cmFja2luZ1wiXG5jb25zdCB0cmFjayA9IF90cmFjayBhcyBqZXN0Lk1vY2s8dHlwZW9mIF90cmFjaz5cbnRyYWNrLm1vY2tJbXBsZW1lbnRhdGlvbigoXyA9PiB4ID0+IHgpIGFzIGFueSlcblxuLy8gTW9jayB0aGlzIHNlcGFyYXRlbHkgc28gcmVhY3QtdHJhY2tpbmcgY2FuIGJlIHVubW9ja2VkIGluIHRlc3RzIGJ1dCBub3QgcmVzdWx0IGluIHRoZSBgd2luZG93YCBnbG9iYWwgYmVpbmcgYWNjZXNzZWQuXG5qZXN0Lm1vY2soXCJyZWFjdC10cmFja2luZy9idWlsZC9kaXNwYXRjaFRyYWNraW5nRXZlbnRcIilcblxuamVzdC5tb2NrKFwiLi9saWIvTmF0aXZlTW9kdWxlcy9Ob3RpZmljYXRpb25zTWFuYWdlci50c3hcIiwgKCkgPT4gKHtcbiAgTm90aWZpY2F0aW9uc01hbmFnZXI6IHtcbiAgICBhZGRMaXN0ZW5lcjogamVzdC5mbigpLFxuICB9LFxufSkpXG5cbmplc3QubW9jayhcIkBtYXBib3gvcmVhY3QtbmF0aXZlLW1hcGJveC1nbFwiLCAoKSA9PiAoe1xuICBNYXBWaWV3OiAoKSA9PiBudWxsLFxuICBTdHlsZVVSTDoge1xuICAgIExpZ2h0OiBudWxsLFxuICB9LFxuICBzZXRBY2Nlc3NUb2tlbjogKCkgPT4gamVzdC5mbigpLFxuICBTdHlsZVNoZWV0OiB7XG4gICAgY3JlYXRlOiAoKSA9PiBqZXN0LmZuKCksXG4gIH0sXG4gIFNoYXBlU291cmNlOiAoKSA9PiBudWxsLFxuICBTeW1ib2xMYXllcjogKCkgPT4gbnVsbCxcbn0pKVxuXG5mdW5jdGlvbiBtb2NrZWRNb2R1bGUocGF0aDogc3RyaW5nLCBtb2NrTW9kdWxlTmFtZTogc3RyaW5nKSB7XG4gIGplc3QubW9jayhwYXRoLCAoKSA9PiBtb2NrTW9kdWxlTmFtZSlcbn1cblxuY29uc3Qgb3JpZ2luYWxDb25zb2xlRXJyb3IgPSBjb25zb2xlLmVycm9yXG5cbi8vIFRPRE86IFJlbW92ZSBvbmNlIHdlJ3JlIG5vIGxvbmdlciB1c2luZyBKU0RPTSBmb3IgZW56eW1lIHN0YXRpYyByZW5kZXJpbmcuXG5jb25zb2xlLmVycm9yID0gKG1lc3NhZ2U/OiBhbnkpID0+IHtcbiAgaWYgKFxuICAgIHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiICYmXG4gICAgKG1lc3NhZ2UuaW5jbHVkZXMoXCJpcyB1c2luZyB1cHBlcmNhc2UgSFRNTC4gQWx3YXlzIHVzZSBsb3dlcmNhc2UgSFRNTCB0YWdzIGluIFJlYWN0LlwiKSB8fFxuICAgICAgL1dhcm5pbmc6IFJlYWN0IGRvZXMgbm90IHJlY29nbml6ZSB0aGUgYFxcdytgIHByb3Agb24gYSBET00gZWxlbWVudFxcLi8udGVzdChtZXNzYWdlKSB8fFxuICAgICAgL1dhcm5pbmc6IFRoZSB0YWcgPFxcdys+IGlzIHVucmVjb2duaXplZCBpbiB0aGlzIGJyb3dzZXJcXC4vLnRlc3QobWVzc2FnZSkgfHxcbiAgICAgIC9XYXJuaW5nOiBVbmtub3duIGV2ZW50IGhhbmRsZXIgcHJvcGVydHkgYFxcdytgXFwuLy50ZXN0KG1lc3NhZ2UpIHx8XG4gICAgICAvV2FybmluZzogUmVjZWl2ZWQgYFxcdytgIGZvciBhIG5vbi1ib29sZWFuIGF0dHJpYnV0ZSBgXFx3K2BcXC4vLnRlc3QobWVzc2FnZSkgfHxcbiAgICAgIC9XYXJuaW5nOiBbXFx3XFxzXSsgaGFzIGJlZW4gZXh0cmFjdGVkIGZyb20gcmVhY3QtbmF0aXZlIGNvcmUvLnRlc3QobWVzc2FnZSkpXG4gICkge1xuICAgIC8vIE5PT1BcbiAgfSBlbHNlIHtcbiAgICBvcmlnaW5hbENvbnNvbGVFcnJvcihtZXNzYWdlKVxuICB9XG59XG5cbm1vY2tlZE1vZHVsZShcIi4vbGliL0NvbXBvbmVudHMvU3dpdGNoVmlldy50c3hcIiwgXCJTd2l0Y2hWaWV3XCIpXG5tb2NrZWRNb2R1bGUoXCIuL2xpYi9Db21wb25lbnRzL1NwaW5uZXIudHN4XCIsIFwiQVJTcGlubmVyXCIpXG5tb2NrZWRNb2R1bGUoXCIuL2xpYi9Db21wb25lbnRzL09wYXF1ZUltYWdlVmlldy9PcGFxdWVJbWFnZVZpZXcudHN4XCIsIFwiQVJPcGFxdWVJbWFnZVZpZXdcIilcbi8vIG1vY2tlZE1vZHVsZShcIi4vbGliL0NvbXBvbmVudHMvQXJ0d29ya0dyaWRzL0luZmluaXRlU2Nyb2xsR3JpZC50c3hcIiwgXCJBcnR3b3Jrc0dyaWRcIilcblxuLy8gQXJ0aXN0IHRlc3RzXG5tb2NrZWRNb2R1bGUoXCIuL2xpYi9Db21wb25lbnRzL0FydGlzdC9TaG93cy9pbmRleC50c3hcIiwgXCJQYXJ0bmVyU2hvd3NcIilcbm1vY2tlZE1vZHVsZShcIi4vbGliL0NvbXBvbmVudHMvQXJ0aXN0L0FydHdvcmtzL2luZGV4LnRzeFwiLCBcIkFydHdvcmtzXCIpXG5tb2NrZWRNb2R1bGUoXCIuL2xpYi9Db21wb25lbnRzL0FydGlzdC9IZWFkZXIudHN4XCIsIFwiSGVhZGVyXCIpXG5tb2NrZWRNb2R1bGUoXCIuL2xpYi9Db21wb25lbnRzL0FydGlzdC9BYm91dC50c3hcIiwgXCJBYm91dFwiKVxuXG4vLyBHZW5lIHRlc3RzXG5tb2NrZWRNb2R1bGUoXCIuL2xpYi9Db21wb25lbnRzL0dlbmUvSGVhZGVyLnRzeFwiLCBcIkhlYWRlclwiKVxuXG4vLyBOYXRpdmUgbW9kdWxlc1xuaW1wb3J0IHsgU2NyZWVuRGltZW5zaW9ucyB9IGZyb20gXCJsaWIvdXRpbHMvdXNlU2NyZWVuRGltZW5zaW9uc1wiXG5pbXBvcnQgeyBOYXRpdmVNb2R1bGVzIH0gZnJvbSBcInJlYWN0LW5hdGl2ZVwiXG5OYXRpdmVNb2R1bGVzLkFSVGFrZUNhbWVyYVBob3RvTW9kdWxlID0ge1xuICBlcnJvckNvZGVzOiB7XG4gICAgY2FtZXJhTm90QXZhaWxhYmxlOiBcImNhbWVyYU5vdEF2YWlsYWJsZVwiLFxuICAgIGltYWdlTWVkaWFOb3RBdmFpbGFibGU6IFwiaW1hZ2VNZWRpYU5vdEF2YWlsYWJsZVwiLFxuICAgIGNhbWVyYUFjY2Vzc0RlbmllZDogXCJjYW1lcmFBY2Nlc3NEZW5pZWRcIixcbiAgICBzYXZlRmFpbGVkOiBcInNhdmVGYWlsZWRcIixcbiAgfSxcbn1cbk5hdGl2ZU1vZHVsZXMuQVJDb2NvYUNvbnN0YW50c01vZHVsZSA9IHtcbiAgVUlBcHBsaWNhdGlvbk9wZW5TZXR0aW5nc1VSTFN0cmluZzogXCJVSUFwcGxpY2F0aW9uT3BlblNldHRpbmdzVVJMU3RyaW5nXCIsXG4gIEFSRW5hYmxlZDogdHJ1ZSxcbn1cbk5hdGl2ZU1vZHVsZXMuRW1pc3Npb24gPSB7XG4gIHVzZXJBZ2VudDogXCJKZXN0IFVuaXQgVGVzdHNcIixcbn1cbk5hdGl2ZU1vZHVsZXMuQVJTd2l0Y2hCb2FyZE1vZHVsZSA9IHtcbiAgcHJlc2VudE5hdmlnYXRpb25WaWV3Q29udHJvbGxlcjogamVzdC5mbigpLFxuICBwcmVzZW50TW9kYWxWaWV3Q29udHJvbGxlcjogamVzdC5mbigpLFxuICBwcmVzZW50TWVkaWFQcmV2aWV3Q29udHJvbGxlcjogamVzdC5mbigpLFxuICBwcmVzZW50QXJ0d29ya3NTZXQ6IGplc3QuZm4oKSxcbn1cblxuZGVjbGFyZSBjb25zdCBwcm9jZXNzOiBhbnlcblxuaWYgKHByb2Nlc3MuZW52LkFMTE9XX0NPTlNPTEVfTE9HUyAhPT0gXCJ0cnVlXCIpIHtcbiAgY29uc3Qgb3JpZ2luYWxMb2dnZXJzID0ge1xuICAgIGVycm9yOiBjb25zb2xlLmVycm9yLFxuICAgIHdhcm46IGNvbnNvbGUud2FybixcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvZ1RvRXJyb3IodHlwZSwgYXJncywgY29uc3RydWN0b3JPcHQ6ICgpID0+IHZvaWQpIHtcbiAgICBjb25zdCBleHBsYW5hdGlvbiA9XG4gICAgICBjaGFsay53aGl0ZShgVGVzdCBmYWlsZWQgZHVlIHRvIFxcYGNvbnNvbGUuJHt0eXBlfSjigKYpXFxgIGNhbGwuXFxuYCkgK1xuICAgICAgY2hhbGsuZ3JheShcIihEaXNhYmxlIHdpdGggQUxMT1dfQ09OU09MRV9MT0dTPXRydWUgZW52IHZhcmlhYmxlLilcXG5cXG5cIilcbiAgICBpZiAoYXJnc1swXSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICBjb25zdCBtc2cgPSBleHBsYW5hdGlvbiArIGNoYWxrLnJlZChhcmdzWzBdLm1lc3NhZ2UpXG4gICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IobXNnKVxuICAgICAgZXJyLnN0YWNrID0gYXJnc1swXS5zdGFjay5yZXBsYWNlKGBFcnJvcjogJHthcmdzWzBdLm1lc3NhZ2V9YCwgbXNnKVxuICAgICAgcmV0dXJuIGVyclxuICAgIH0gZWxzZSBpZiAoXG4gICAgICAvLyBCZWNhdXNlIHdlIHVzZSByZWFjdC1kb20gaW4gdGVzdHMgdG8gcmVuZGVyIHJlYWN0LW5hdGl2ZSBjb21wb25lbnRzLCBhIGZldyB3YXJuaW5ncyBhcmUgYmVpbmcgbG9nZ2VkIHRoYXQgd2UgZG9cbiAgICAgIC8vIG5vdCBjYXJlIGZvciwgc28gaWdub3JlIHRoZXNlLlxuICAgICAgIWFyZ3NbMF0uaW5jbHVkZXMoXCJpcyB1c2luZyBpbmNvcnJlY3QgY2FzaW5nXCIpICYmXG4gICAgICAhYXJnc1swXS5pbmNsdWRlcyhcImlzIHVucmVjb2duaXplZCBpbiB0aGlzIGJyb3dzZXJcIikgJiZcbiAgICAgICFbYXJnc1swXS5pbmNsdWRlcyhcIlJlYWN0IGRvZXMgbm90IHJlY29nbml6ZSB0aGUgYHRlc3RJRGAgcHJvcCBvbiBhIERPTSBlbGVtZW50LlwiKV1cbiAgICApIHtcbiAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihleHBsYW5hdGlvbiArIGNoYWxrLnJlZChmb3JtYXQoYXJnc1swXSwgLi4uYXJncy5zbGljZSgxKSkpKVxuICAgICAgOyhFcnJvciBhcyBhbnkpLmNhcHR1cmVTdGFja1RyYWNlKGVyciwgY29uc3RydWN0b3JPcHQpXG4gICAgICByZXR1cm4gZXJyXG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBiZWZvcmVFYWNoKGRvbmUgPT4ge1xuICAgIGNvbnN0IHR5cGVzOiBBcnJheTxcImVycm9yXCIgfCBcIndhcm5cIj4gPSBbXCJlcnJvclwiLCBcIndhcm5cIl1cbiAgICB0eXBlcy5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICAgLy8gRG9uJ3Qgc3B5IG9uIGxvZ2dlcnMgdGhhdCBoYXZlIGJlZW4gbW9kaWZpZWQgYnkgdGhlIGN1cnJlbnQgdGVzdC5cbiAgICAgIGlmIChjb25zb2xlW3R5cGVdID09PSBvcmlnaW5hbExvZ2dlcnNbdHlwZV0pIHtcbiAgICAgICAgY29uc3QgaGFuZGxlciA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgY29uc3QgZXJyb3IgPSBsb2dUb0Vycm9yKHR5cGUsIGFyZ3MsIGhhbmRsZXIpXG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICBkb25lLmZhaWwoZXJyb3IpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGplc3Quc3B5T24oY29uc29sZSwgdHlwZSkubW9ja0ltcGxlbWVudGF0aW9uKGhhbmRsZXIpXG4gICAgICB9XG4gICAgfSlcbiAgICBkb25lKCkgLy8gaXQgaXMgaW1wb3J0YW50IHRvIGNhbGwgdGhpcyBoZXJlIG9yIGV2ZXJ5IHRlc3Qgd2lsbCB0aW1lb3V0XG4gIH0pXG59XG5cbmplc3QubW9jayhcIi4vbGliL3V0aWxzL3VzZVNjcmVlbkRpbWVuc2lvbnNcIiwgKCkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKVxuICBjb25zdCBzY3JlZW5EaW1lbnNpb25zOiBTY3JlZW5EaW1lbnNpb25zID0ge1xuICAgIHdpZHRoOiAzODAsXG4gICAgaGVpZ2h0OiA1NTAsXG4gICAgb3JpZW50YXRpb246IFwicG9ydHJhaXRcIixcbiAgICBzYWZlQXJlYUluc2V0czoge1xuICAgICAgdG9wOiAyMCxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICByaWdodDogMCxcbiAgICAgIGJvdHRvbTogMCxcbiAgICB9LFxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRDdXJyZW50U2NyZWVuRGltZW5zaW9uczogKCkgPT4gc2NyZWVuRGltZW5zaW9ucyxcbiAgICBQcm92aWRlU2NyZWVuRGltZW5zaW9uczogKHsgY2hpbGRyZW4gfSkgPT4ge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGNoaWxkcmVuKVxuICAgIH0sXG4gICAgdXNlU2NyZWVuRGltZW5zaW9uczogKCkgPT4gc2NyZWVuRGltZW5zaW9ucyxcbiAgfVxufSlcbiJdfQ==