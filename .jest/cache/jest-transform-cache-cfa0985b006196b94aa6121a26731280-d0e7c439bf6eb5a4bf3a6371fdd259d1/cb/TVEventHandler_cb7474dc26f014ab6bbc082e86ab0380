e7422e856307b0774e658f0ed7528bbd
'use strict';

var Platform = require('Platform');

var TVNavigationEventEmitter = require('NativeModules').TVNavigationEventEmitter;

var NativeEventEmitter = require('NativeEventEmitter');

function TVEventHandler() {
  this.__nativeTVNavigationEventListener = null;
  this.__nativeTVNavigationEventEmitter = null;
}

TVEventHandler.prototype.enable = function (component, callback) {
  if (Platform.OS === 'ios' && !TVNavigationEventEmitter) {
    return;
  }

  this.__nativeTVNavigationEventEmitter = new NativeEventEmitter(TVNavigationEventEmitter);
  this.__nativeTVNavigationEventListener = this.__nativeTVNavigationEventEmitter.addListener('onHWKeyEvent', function (data) {
    if (callback) {
      callback(component, data);
    }
  });
};

TVEventHandler.prototype.disable = function () {
  if (this.__nativeTVNavigationEventListener) {
    this.__nativeTVNavigationEventListener.remove();

    delete this.__nativeTVNavigationEventListener;
  }

  if (this.__nativeTVNavigationEventEmitter) {
    delete this.__nativeTVNavigationEventEmitter;
  }
};

module.exports = TVEventHandler;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRWRXZlbnRIYW5kbGVyLmpzIl0sIm5hbWVzIjpbIlBsYXRmb3JtIiwicmVxdWlyZSIsIlRWTmF2aWdhdGlvbkV2ZW50RW1pdHRlciIsIk5hdGl2ZUV2ZW50RW1pdHRlciIsIlRWRXZlbnRIYW5kbGVyIiwiX19uYXRpdmVUVk5hdmlnYXRpb25FdmVudExpc3RlbmVyIiwiX19uYXRpdmVUVk5hdmlnYXRpb25FdmVudEVtaXR0ZXIiLCJwcm90b3R5cGUiLCJlbmFibGUiLCJjb21wb25lbnQiLCJjYWxsYmFjayIsIk9TIiwiYWRkTGlzdGVuZXIiLCJkYXRhIiwiZGlzYWJsZSIsInJlbW92ZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQVVBOztBQUVBLElBQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBeEI7O0FBQ0EsSUFBTUMsd0JBQXdCLEdBQUdELE9BQU8sQ0FBQyxlQUFELENBQVAsQ0FDOUJDLHdCQURIOztBQUVBLElBQU1DLGtCQUFrQixHQUFHRixPQUFPLENBQUMsb0JBQUQsQ0FBbEM7O0FBRUEsU0FBU0csY0FBVCxHQUEwQjtBQUN4QixPQUFLQyxpQ0FBTCxHQUF5QyxJQUF6QztBQUNBLE9BQUtDLGdDQUFMLEdBQXdDLElBQXhDO0FBQ0Q7O0FBRURGLGNBQWMsQ0FBQ0csU0FBZixDQUF5QkMsTUFBekIsR0FBa0MsVUFDaENDLFNBRGdDLEVBRWhDQyxRQUZnQyxFQUdoQztBQUNBLE1BQUlWLFFBQVEsQ0FBQ1csRUFBVCxLQUFnQixLQUFoQixJQUF5QixDQUFDVCx3QkFBOUIsRUFBd0Q7QUFDdEQ7QUFDRDs7QUFFRCxPQUFLSSxnQ0FBTCxHQUF3QyxJQUFJSCxrQkFBSixDQUN0Q0Qsd0JBRHNDLENBQXhDO0FBR0EsT0FBS0csaUNBQUwsR0FBeUMsS0FBS0MsZ0NBQUwsQ0FBc0NNLFdBQXRDLENBQ3ZDLGNBRHVDLEVBRXZDLFVBQUFDLElBQUksRUFBSTtBQUNOLFFBQUlILFFBQUosRUFBYztBQUNaQSxNQUFBQSxRQUFRLENBQUNELFNBQUQsRUFBWUksSUFBWixDQUFSO0FBQ0Q7QUFDRixHQU5zQyxDQUF6QztBQVFELENBbkJEOztBQXFCQVQsY0FBYyxDQUFDRyxTQUFmLENBQXlCTyxPQUF6QixHQUFtQyxZQUFXO0FBQzVDLE1BQUksS0FBS1QsaUNBQVQsRUFBNEM7QUFDMUMsU0FBS0EsaUNBQUwsQ0FBdUNVLE1BQXZDOztBQUNBLFdBQU8sS0FBS1YsaUNBQVo7QUFDRDs7QUFDRCxNQUFJLEtBQUtDLGdDQUFULEVBQTJDO0FBQ3pDLFdBQU8sS0FBS0EsZ0NBQVo7QUFDRDtBQUNGLENBUkQ7O0FBVUFVLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmIsY0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmb3JtYXRcbiAqIEBmbG93XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBQbGF0Zm9ybSA9IHJlcXVpcmUoJ1BsYXRmb3JtJyk7XG5jb25zdCBUVk5hdmlnYXRpb25FdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdOYXRpdmVNb2R1bGVzJylcbiAgLlRWTmF2aWdhdGlvbkV2ZW50RW1pdHRlcjtcbmNvbnN0IE5hdGl2ZUV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ05hdGl2ZUV2ZW50RW1pdHRlcicpO1xuXG5mdW5jdGlvbiBUVkV2ZW50SGFuZGxlcigpIHtcbiAgdGhpcy5fX25hdGl2ZVRWTmF2aWdhdGlvbkV2ZW50TGlzdGVuZXIgPSBudWxsO1xuICB0aGlzLl9fbmF0aXZlVFZOYXZpZ2F0aW9uRXZlbnRFbWl0dGVyID0gbnVsbDtcbn1cblxuVFZFdmVudEhhbmRsZXIucHJvdG90eXBlLmVuYWJsZSA9IGZ1bmN0aW9uKFxuICBjb21wb25lbnQ6ID9hbnksXG4gIGNhbGxiYWNrOiBGdW5jdGlvbixcbikge1xuICBpZiAoUGxhdGZvcm0uT1MgPT09ICdpb3MnICYmICFUVk5hdmlnYXRpb25FdmVudEVtaXR0ZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLl9fbmF0aXZlVFZOYXZpZ2F0aW9uRXZlbnRFbWl0dGVyID0gbmV3IE5hdGl2ZUV2ZW50RW1pdHRlcihcbiAgICBUVk5hdmlnYXRpb25FdmVudEVtaXR0ZXIsXG4gICk7XG4gIHRoaXMuX19uYXRpdmVUVk5hdmlnYXRpb25FdmVudExpc3RlbmVyID0gdGhpcy5fX25hdGl2ZVRWTmF2aWdhdGlvbkV2ZW50RW1pdHRlci5hZGRMaXN0ZW5lcihcbiAgICAnb25IV0tleUV2ZW50JyxcbiAgICBkYXRhID0+IHtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayhjb21wb25lbnQsIGRhdGEpO1xuICAgICAgfVxuICAgIH0sXG4gICk7XG59O1xuXG5UVkV2ZW50SGFuZGxlci5wcm90b3R5cGUuZGlzYWJsZSA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5fX25hdGl2ZVRWTmF2aWdhdGlvbkV2ZW50TGlzdGVuZXIpIHtcbiAgICB0aGlzLl9fbmF0aXZlVFZOYXZpZ2F0aW9uRXZlbnRMaXN0ZW5lci5yZW1vdmUoKTtcbiAgICBkZWxldGUgdGhpcy5fX25hdGl2ZVRWTmF2aWdhdGlvbkV2ZW50TGlzdGVuZXI7XG4gIH1cbiAgaWYgKHRoaXMuX19uYXRpdmVUVk5hdmlnYXRpb25FdmVudEVtaXR0ZXIpIHtcbiAgICBkZWxldGUgdGhpcy5fX25hdGl2ZVRWTmF2aWdhdGlvbkV2ZW50RW1pdHRlcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBUVkV2ZW50SGFuZGxlcjtcbiJdfQ==