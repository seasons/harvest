a6f7e063ffde19d4154ffe80986338a9
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Product = void 0;

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _taggedTemplateLiteralLoose2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteralLoose"));

var _react = _interopRequireWildcard(require("react"));

var _graphqlTag = _interopRequireDefault(require("graphql-tag"));

var _lodash = require("lodash");

var _reactHooks = require("@apollo/react-hooks");

var _Components = require("../../Components");

var _reactNative = require("react-native");

var _Components2 = require("./Components");

var _Utils = require("../../Utils");

var _native = _interopRequireDefault(require("styled-components/native"));

var _renderpropsNative = require("react-spring/renderprops-native.cjs");

var _icons = require("../../../assets/icons");

var _reactNativeNavigation = require("react-native-navigation");

function _templateObject9() {
  var data = (0, _taggedTemplateLiteralLoose2.default)(["\n  background-color: white;\n  border-bottom-left-radius: 30;\n  border-bottom-right-radius: 30;\n  overflow: hidden;\n  margin-bottom: 10;\n"]);

  _templateObject9 = function _templateObject9() {
    return data;
  };

  return data;
}

function _templateObject8() {
  var data = (0, _taggedTemplateLiteralLoose2.default)(["\n  border-radius: 30;\n  width: 88;\n  border: 1px solid ", ";\n  border-width: 1;\n  border-radius: 28;\n  position: relative;\n"]);

  _templateObject8 = function _templateObject8() {
    return data;
  };

  return data;
}

function _templateObject7() {
  var data = (0, _taggedTemplateLiteralLoose2.default)(["\n  background-color: black;\n"]);

  _templateObject7 = function _templateObject7() {
    return data;
  };

  return data;
}

function _templateObject6() {
  var data = (0, _taggedTemplateLiteralLoose2.default)(["\n  background-color: rgba(0, 0, 0, 0.5);\n  position: absolute;\n  flex: 1;\n  width: 100%;\n  top: 0;\n  left: 0;\n  z-index: 100;\n"]);

  _templateObject6 = function _templateObject6() {
    return data;
  };

  return data;
}

function _templateObject5() {
  var data = (0, _taggedTemplateLiteralLoose2.default)(["\n  padding-left: ", "px;\n  padding-right: ", "px;\n  flex: 1;\n  padding-bottom: ", "px;\n"]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = (0, _taggedTemplateLiteralLoose2.default)(["\n  flex: 1;\n  background-color: black;\n"]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = (0, _taggedTemplateLiteralLoose2.default)(["\n  position: absolute;\n  left: 15;\n  top: 8;\n"]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = (0, _taggedTemplateLiteralLoose2.default)(["\n  position: absolute;\n  right: 15;\n  top: 15;\n"]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = (0, _taggedTemplateLiteralLoose2.default)(["\n  query GetProduct($productId: ID!) {\n    product(where: { id: $productId }) {\n      name\n      id\n      description\n      retailPrice\n      modelSize\n      modelHeight\n      brand {\n        name\n      }\n      images\n    }\n  }\n"]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

var GET_PRODUCT = (0, _graphqlTag.default)(_templateObject());
var screenHeight = Math.round(_reactNative.Dimensions.get("window").height);

var Product = function Product(props) {
  var _useState = (0, _react.useState)({
    size: "",
    abbreviated: "X",
    id: null
  }),
      _useState2 = (0, _slicedToArray2.default)(_useState, 2),
      sizeSelection = _useState2[0],
      setSizeSelection = _useState2[1];

  var _useState3 = (0, _react.useState)(false),
      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
      showSizeSelection = _useState4[0],
      toggleShowSizeSelection = _useState4[1];

  var _useQuery = (0, _reactHooks.useQuery)(GET_PRODUCT, {
    variables: {
      productId: props.id
    }
  }),
      loading = _useQuery.loading,
      error = _useQuery.error,
      data = _useQuery.data;

  var sizes = [{
    size: "small",
    abbreviated: "s",
    id: 1,
    stock: 0
  }, {
    size: "medium",
    abbreviated: "m",
    id: 2,
    stock: 2
  }, {
    size: "large",
    abbreviated: "l",
    id: 3,
    stock: 1
  }, {
    size: "x-large",
    abbreviated: "xl",
    id: 4,
    stock: 3
  }, {
    size: "xx-large",
    abbreviated: "xxl",
    id: 5,
    stock: 3
  }];
  (0, _react.useEffect)(function () {
    var firstInStock = sizes.find(function (size) {
      return size.stock > 0;
    });
    setSizeSelection(firstInStock);
  }, []);

  var handleSaveButton = function handleSaveButton() {};

  if (loading || !data) {
    return null;
  }

  if (error) {
    console.error("error: ", error);
  }

  var product = data && data.product;

  var _renderItem = function renderItem(_ref) {
    var section = _ref.item;
    var images = product && product.images;

    switch (section) {
      case "imageRail":
        return _react.default.createElement(_Components2.ImageRail, {
          images: images
        });

      case "productDetails":
        return _react.default.createElement(_Components2.ProductDetails, {
          product: product
        });

      case "moreLikeThis":
        return _react.default.createElement(_Components2.MoreLikeThis, {
          products: images
        });

      case "aboutTheBrand":
        return _react.default.createElement(_Components2.AboutTheBrand, {
          product: product
        });

      default:
        return null;
    }
  };

  var renderSizes = function renderSizes() {
    return sizes.map(function (size) {
      return _react.default.createElement(_Components.Box, {
        key: size.id
      }, _react.default.createElement(_Components.Spacer, {
        mb: 2
      }), _react.default.createElement(_Components.Flex, {
        flexDirection: "row",
        alignItems: "center",
        justifyContent: "space-between",
        flexWrap: "nowrap"
      }, _react.default.createElement(_Components.Flex, {
        flexDirection: "row",
        alignItems: "center"
      }, _react.default.createElement(_Components.Radio, {
        selected: sizeSelection.id === size.id,
        disabled: size.stock === 0,
        onSelect: function onSelect() {
          return setSizeSelection(size);
        }
      }), _react.default.createElement(_Components.Spacer, {
        mr: 1
      }), _react.default.createElement(_Components.Sans, {
        color: size.stock ? "white" : "gray",
        size: "2"
      }, (0, _lodash.capitalize)(size.size))), _react.default.createElement(_Components.Sans, {
        color: "gray",
        size: "2"
      }, size.stock ? "(" + size.stock + " left)" : "(Out of stock)")), _react.default.createElement(_Components.Spacer, {
        mb: 2
      }), _react.default.createElement(_Components.Separator, {
        color: (0, _Utils.color)("gray")
      }));
    });
  };

  var sections = function sections() {
    return ["imageRail", "productDetails", "moreLikeThis", "aboutTheBrand"];
  };

  return _react.default.createElement(_Components.Theme, null, _react.default.createElement(Outer, null, _react.default.createElement(_renderpropsNative.Spring, {
    native: true,
    toggle: showSizeSelection,
    from: {
      height: screenHeight - 106
    },
    to: {
      height: showSizeSelection ? screenHeight - 436 : screenHeight - 106
    }
  }, function (props) {
    return _react.default.createElement(AnimatedContent, {
      style: props
    }, showSizeSelection && _react.default.createElement(AnimatedOverlay, {
      style: props
    }), _react.default.createElement(_reactNative.SafeAreaView, {
      style: {
        flex: 1
      }
    }, _react.default.createElement(_reactNative.FlatList, {
      data: sections(),
      keyExtractor: function keyExtractor(item) {
        return item;
      },
      renderItem: function renderItem(item) {
        return _renderItem(item);
      }
    })));
  }), _react.default.createElement(FooterNav, null, _react.default.createElement(_Components.Flex, {
    p: 2,
    justifyContent: "space-between",
    flexWrap: "nowrap",
    flexDirection: "row"
  }, _react.default.createElement(_Components.Flex, {
    alignItems: "center",
    flexWrap: "nowrap",
    flexDirection: "row",
    style: {
      width: 114
    }
  }, _react.default.createElement(_reactNative.TouchableWithoutFeedback, {
    onPress: function onPress() {
      return _reactNativeNavigation.Navigation.pop(props.componentId);
    }
  }, _react.default.createElement(_icons.BackArrowIcon, null)), _react.default.createElement(_Components.Spacer, {
    mr: 4
  }), _react.default.createElement(_reactNative.TouchableWithoutFeedback, {
    onPress: function onPress() {
      return handleSaveButton();
    }
  }, _react.default.createElement(_icons.SaveIcon, null))), _react.default.createElement(_reactNative.TouchableWithoutFeedback, {
    onPress: function onPress() {
      return toggleShowSizeSelection(!showSizeSelection);
    }
  }, _react.default.createElement(SizeSelectionButton, {
    p: 2
  }, _react.default.createElement(StyledSans, {
    size: "2",
    color: "white"
  }, sizeSelection.abbreviated.toUpperCase()), _react.default.createElement(_Components.Spacer, {
    mr: 3
  }), _react.default.createElement(StyledDownChevronIcon, {
    rotate: showSizeSelection
  }))), _react.default.createElement(_Components2.ReserveButton, {
    product: product
  }))), _react.default.createElement(Selection, {
    m: 2
  }, _react.default.createElement(_reactNative.ScrollView, null, _react.default.createElement(_Components.Separator, {
    color: (0, _Utils.color)("gray")
  }), renderSizes()), _react.default.createElement(_Components.Button, {
    onPress: function onPress() {
      return toggleShowSizeSelection(!showSizeSelection);
    }
  }, "Cancel"))));
};

exports.Product = Product;
var StyledDownChevronIcon = (0, _native.default)(_icons.DownChevronIcon)(_templateObject2());
var StyledSans = (0, _native.default)(_Components.Sans)(_templateObject3());

var Outer = _native.default.View(_templateObject4());

var Selection = _native.default.View(_templateObject5(), (0, _Utils.space)(2), (0, _Utils.space)(2), (0, _Utils.space)(2));

var Overlay = _native.default.View(_templateObject6());

var FooterNav = _native.default.View(_templateObject7());

var SizeSelectionButton = _native.default.View(_templateObject8(), (0, _Utils.color)("gray"));

var Content = _native.default.View(_templateObject9());

var AnimatedContent = (0, _renderpropsNative.animated)(Content);
var AnimatedOverlay = (0, _renderpropsNative.animated)(Overlay);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlByb2R1Y3QudHN4Il0sIm5hbWVzIjpbIkdFVF9QUk9EVUNUIiwiZ3FsIiwic2NyZWVuSGVpZ2h0IiwiTWF0aCIsInJvdW5kIiwiRGltZW5zaW9ucyIsImdldCIsImhlaWdodCIsIlByb2R1Y3QiLCJwcm9wcyIsInNpemUiLCJhYmJyZXZpYXRlZCIsImlkIiwic2l6ZVNlbGVjdGlvbiIsInNldFNpemVTZWxlY3Rpb24iLCJzaG93U2l6ZVNlbGVjdGlvbiIsInRvZ2dsZVNob3dTaXplU2VsZWN0aW9uIiwidmFyaWFibGVzIiwicHJvZHVjdElkIiwibG9hZGluZyIsImVycm9yIiwiZGF0YSIsInNpemVzIiwic3RvY2siLCJmaXJzdEluU3RvY2siLCJmaW5kIiwiaGFuZGxlU2F2ZUJ1dHRvbiIsImNvbnNvbGUiLCJwcm9kdWN0IiwicmVuZGVySXRlbSIsInNlY3Rpb24iLCJpdGVtIiwiaW1hZ2VzIiwicmVuZGVyU2l6ZXMiLCJtYXAiLCJzZWN0aW9ucyIsImZsZXgiLCJ3aWR0aCIsIk5hdmlnYXRpb24iLCJwb3AiLCJjb21wb25lbnRJZCIsInRvVXBwZXJDYXNlIiwiU3R5bGVkRG93bkNoZXZyb25JY29uIiwiRG93bkNoZXZyb25JY29uIiwiU3R5bGVkU2FucyIsIlNhbnMiLCJPdXRlciIsInN0eWxlZCIsIlZpZXciLCJTZWxlY3Rpb24iLCJPdmVybGF5IiwiRm9vdGVyTmF2IiwiU2l6ZVNlbGVjdGlvbkJ1dHRvbiIsIkNvbnRlbnQiLCJBbmltYXRlZENvbnRlbnQiLCJBbmltYXRlZE92ZXJsYXkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSxJQUFNQSxXQUFX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QkFDRyxrQkFBTSxDQUFOLENBREgsRUFFSSxrQkFBTSxDQUFOLENBRkosRUFJSyxrQkFBTSxDQUFOLENBSkwsQ0FBZjs7QUFPQSxJQUFNRSxPQUFPLEdBQUdILGdCQUFPQyxJQUFWLG9CQUFiOztBQVVBLElBQU1HLFNBQVMsR0FBR0osZ0JBQU9DLElBQVYsb0JBQWY7O0FBSUEsSUFBTUksbUJBQW1CLEdBQUdMLGdCQUFPQyxJQUFWLHFCQUdILGtCQUFNLE1BQU4sQ0FIRyxDQUF6Qjs7QUFTQSxJQUFNSyxPQUFPLEdBQUdOLGdCQUFPQyxJQUFWLG9CQUFiOztBQVFBLElBQU1NLGVBQWUsR0FBRyxpQ0FBU0QsT0FBVCxDQUF4QjtBQUNBLElBQU1FLGVBQWUsR0FBRyxpQ0FBU0wsT0FBVCxDQUF4QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCBncWwgZnJvbSBcImdyYXBocWwtdGFnXCJcbmltcG9ydCB7IGNhcGl0YWxpemUgfSBmcm9tIFwibG9kYXNoXCJcbmltcG9ydCB7IHVzZVF1ZXJ5IH0gZnJvbSBcIkBhcG9sbG8vcmVhY3QtaG9va3NcIlxuaW1wb3J0IHsgVGhlbWUsIEJ1dHRvbiwgRmxleCwgU2FucywgQm94LCBSYWRpbywgU2VwYXJhdG9yLCBTcGFjZXIgfSBmcm9tIFwiQXBwL0NvbXBvbmVudHNcIlxuaW1wb3J0IHsgRmxhdExpc3QsIFNhZmVBcmVhVmlldywgRGltZW5zaW9ucywgVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrLCBTY3JvbGxWaWV3IH0gZnJvbSBcInJlYWN0LW5hdGl2ZVwiXG5pbXBvcnQgeyBJbWFnZVJhaWwsIFByb2R1Y3REZXRhaWxzLCBNb3JlTGlrZVRoaXMsIEFib3V0VGhlQnJhbmQsIFJlc2VydmVCdXR0b24gfSBmcm9tIFwiLi9Db21wb25lbnRzXCJcbmltcG9ydCB7IGNvbG9yLCBzcGFjZSB9IGZyb20gXCJBcHAvVXRpbHNcIlxuaW1wb3J0IHN0eWxlZCBmcm9tIFwic3R5bGVkLWNvbXBvbmVudHMvbmF0aXZlXCJcbmltcG9ydCB7IGFuaW1hdGVkLCBTcHJpbmcgfSBmcm9tIFwicmVhY3Qtc3ByaW5nL3JlbmRlcnByb3BzLW5hdGl2ZS5janNcIlxuaW1wb3J0IHsgQmFja0Fycm93SWNvbiwgRG93bkNoZXZyb25JY29uLCBTYXZlSWNvbiB9IGZyb20gXCJBc3NldHMvaWNvbnNcIlxuaW1wb3J0IHsgTmF2aWdhdGlvbiB9IGZyb20gXCJyZWFjdC1uYXRpdmUtbmF2aWdhdGlvblwiXG5cbmNvbnN0IEdFVF9QUk9EVUNUID0gZ3FsYFxuICBxdWVyeSBHZXRQcm9kdWN0KCRwcm9kdWN0SWQ6IElEISkge1xuICAgIHByb2R1Y3Qod2hlcmU6IHsgaWQ6ICRwcm9kdWN0SWQgfSkge1xuICAgICAgbmFtZVxuICAgICAgaWRcbiAgICAgIGRlc2NyaXB0aW9uXG4gICAgICByZXRhaWxQcmljZVxuICAgICAgbW9kZWxTaXplXG4gICAgICBtb2RlbEhlaWdodFxuICAgICAgYnJhbmQge1xuICAgICAgICBuYW1lXG4gICAgICB9XG4gICAgICBpbWFnZXNcbiAgICB9XG4gIH1cbmBcblxuY29uc3Qgc2NyZWVuSGVpZ2h0ID0gTWF0aC5yb3VuZChEaW1lbnNpb25zLmdldChcIndpbmRvd1wiKS5oZWlnaHQpXG5cbmV4cG9ydCBjb25zdCBQcm9kdWN0ID0gcHJvcHMgPT4ge1xuICBjb25zdCBbc2l6ZVNlbGVjdGlvbiwgc2V0U2l6ZVNlbGVjdGlvbl0gPSB1c2VTdGF0ZSh7IHNpemU6IFwiXCIsIGFiYnJldmlhdGVkOiBcIlhcIiwgaWQ6IG51bGwgfSlcbiAgY29uc3QgW3Nob3dTaXplU2VsZWN0aW9uLCB0b2dnbGVTaG93U2l6ZVNlbGVjdGlvbl0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgeyBsb2FkaW5nLCBlcnJvciwgZGF0YSB9ID0gdXNlUXVlcnkoR0VUX1BST0RVQ1QsIHtcbiAgICB2YXJpYWJsZXM6IHtcbiAgICAgIHByb2R1Y3RJZDogcHJvcHMuaWQsXG4gICAgfSxcbiAgfSlcblxuICBjb25zdCBzaXplcyA9IFtcbiAgICB7IHNpemU6IFwic21hbGxcIiwgYWJicmV2aWF0ZWQ6IFwic1wiLCBpZDogMSwgc3RvY2s6IDAgfSxcbiAgICB7IHNpemU6IFwibWVkaXVtXCIsIGFiYnJldmlhdGVkOiBcIm1cIiwgaWQ6IDIsIHN0b2NrOiAyIH0sXG4gICAgeyBzaXplOiBcImxhcmdlXCIsIGFiYnJldmlhdGVkOiBcImxcIiwgaWQ6IDMsIHN0b2NrOiAxIH0sXG4gICAgeyBzaXplOiBcIngtbGFyZ2VcIiwgYWJicmV2aWF0ZWQ6IFwieGxcIiwgaWQ6IDQsIHN0b2NrOiAzIH0sXG4gICAgeyBzaXplOiBcInh4LWxhcmdlXCIsIGFiYnJldmlhdGVkOiBcInh4bFwiLCBpZDogNSwgc3RvY2s6IDMgfSxcbiAgXVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gRmluZCB0aGUgZmlyc3QgcHJvZHVjdCB3aXRoIHN0b2NrXG4gICAgY29uc3QgZmlyc3RJblN0b2NrID0gc2l6ZXMuZmluZChzaXplID0+IHtcbiAgICAgIHJldHVybiBzaXplLnN0b2NrID4gMFxuICAgIH0pXG4gICAgc2V0U2l6ZVNlbGVjdGlvbihmaXJzdEluU3RvY2spXG4gIH0sIFtdKVxuXG4gIGNvbnN0IGhhbmRsZVNhdmVCdXR0b24gPSAoKSA9PiB7XG4gICAgLy8gRklYTUU6IEhhbmRsZSBoYW5kbGVTYXZlQnV0dG9uXG4gIH1cblxuICBpZiAobG9hZGluZyB8fCAhZGF0YSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcImVycm9yOiBcIiwgZXJyb3IpXG4gIH1cblxuICBjb25zdCBwcm9kdWN0ID0gZGF0YSAmJiBkYXRhLnByb2R1Y3RcblxuICBjb25zdCByZW5kZXJJdGVtID0gKHsgaXRlbTogc2VjdGlvbiB9KSA9PiB7XG4gICAgY29uc3QgaW1hZ2VzID0gcHJvZHVjdCAmJiBwcm9kdWN0LmltYWdlc1xuICAgIHN3aXRjaCAoc2VjdGlvbikge1xuICAgICAgY2FzZSBcImltYWdlUmFpbFwiOlxuICAgICAgICByZXR1cm4gPEltYWdlUmFpbCBpbWFnZXM9e2ltYWdlc30gLz5cbiAgICAgIGNhc2UgXCJwcm9kdWN0RGV0YWlsc1wiOlxuICAgICAgICByZXR1cm4gPFByb2R1Y3REZXRhaWxzIHByb2R1Y3Q9e3Byb2R1Y3R9IC8+XG4gICAgICBjYXNlIFwibW9yZUxpa2VUaGlzXCI6XG4gICAgICAgIHJldHVybiA8TW9yZUxpa2VUaGlzIHByb2R1Y3RzPXtpbWFnZXN9IC8+XG4gICAgICBjYXNlIFwiYWJvdXRUaGVCcmFuZFwiOlxuICAgICAgICByZXR1cm4gPEFib3V0VGhlQnJhbmQgcHJvZHVjdD17cHJvZHVjdH0gLz5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgY29uc3QgcmVuZGVyU2l6ZXMgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHNpemVzLm1hcChzaXplID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxCb3gga2V5PXtzaXplLmlkfT5cbiAgICAgICAgICA8U3BhY2VyIG1iPXsyfSAvPlxuICAgICAgICAgIDxGbGV4IGZsZXhEaXJlY3Rpb249XCJyb3dcIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCIganVzdGlmeUNvbnRlbnQ9XCJzcGFjZS1iZXR3ZWVuXCIgZmxleFdyYXA9XCJub3dyYXBcIj5cbiAgICAgICAgICAgIDxGbGV4IGZsZXhEaXJlY3Rpb249XCJyb3dcIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxSYWRpb1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkPXtzaXplU2VsZWN0aW9uLmlkID09PSBzaXplLmlkfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzaXplLnN0b2NrID09PSAwfVxuICAgICAgICAgICAgICAgIG9uU2VsZWN0PXsoKSA9PiBzZXRTaXplU2VsZWN0aW9uKHNpemUpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8U3BhY2VyIG1yPXsxfSAvPlxuICAgICAgICAgICAgICA8U2FucyBjb2xvcj17c2l6ZS5zdG9jayA/IFwid2hpdGVcIiA6IFwiZ3JheVwifSBzaXplPVwiMlwiPlxuICAgICAgICAgICAgICAgIHtjYXBpdGFsaXplKHNpemUuc2l6ZSl9XG4gICAgICAgICAgICAgIDwvU2Fucz5cbiAgICAgICAgICAgIDwvRmxleD5cbiAgICAgICAgICAgIDxTYW5zIGNvbG9yPVwiZ3JheVwiIHNpemU9XCIyXCI+XG4gICAgICAgICAgICAgIHtzaXplLnN0b2NrID8gXCIoXCIgKyBzaXplLnN0b2NrICsgXCIgbGVmdClcIiA6IFwiKE91dCBvZiBzdG9jaylcIn1cbiAgICAgICAgICAgIDwvU2Fucz5cbiAgICAgICAgICA8L0ZsZXg+XG4gICAgICAgICAgPFNwYWNlciBtYj17Mn0gLz5cbiAgICAgICAgICA8U2VwYXJhdG9yIGNvbG9yPXtjb2xvcihcImdyYXlcIil9IC8+XG4gICAgICAgIDwvQm94PlxuICAgICAgKVxuICAgIH0pXG4gIH1cblxuICBjb25zdCBzZWN0aW9ucyA9ICgpID0+IHtcbiAgICByZXR1cm4gW1wiaW1hZ2VSYWlsXCIsIFwicHJvZHVjdERldGFpbHNcIiwgXCJtb3JlTGlrZVRoaXNcIiwgXCJhYm91dFRoZUJyYW5kXCJdXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxUaGVtZT5cbiAgICAgIDxPdXRlcj5cbiAgICAgICAgPFNwcmluZ1xuICAgICAgICAgIG5hdGl2ZVxuICAgICAgICAgIHRvZ2dsZT17c2hvd1NpemVTZWxlY3Rpb259XG4gICAgICAgICAgZnJvbT17eyBoZWlnaHQ6IHNjcmVlbkhlaWdodCAtIDEwNiB9fVxuICAgICAgICAgIHRvPXt7IGhlaWdodDogc2hvd1NpemVTZWxlY3Rpb24gPyBzY3JlZW5IZWlnaHQgLSA0MzYgOiBzY3JlZW5IZWlnaHQgLSAxMDYgfX1cbiAgICAgICAgPlxuICAgICAgICAgIHtwcm9wcyA9PiAoXG4gICAgICAgICAgICA8QW5pbWF0ZWRDb250ZW50IHN0eWxlPXtwcm9wc30+XG4gICAgICAgICAgICAgIHtzaG93U2l6ZVNlbGVjdGlvbiAmJiA8QW5pbWF0ZWRPdmVybGF5IHN0eWxlPXtwcm9wc30gLz59XG4gICAgICAgICAgICAgIDxTYWZlQXJlYVZpZXcgc3R5bGU9e3sgZmxleDogMSB9fT5cbiAgICAgICAgICAgICAgICA8RmxhdExpc3QgZGF0YT17c2VjdGlvbnMoKX0ga2V5RXh0cmFjdG9yPXtpdGVtID0+IGl0ZW19IHJlbmRlckl0ZW09e2l0ZW0gPT4gcmVuZGVySXRlbShpdGVtKX0gLz5cbiAgICAgICAgICAgICAgPC9TYWZlQXJlYVZpZXc+XG4gICAgICAgICAgICA8L0FuaW1hdGVkQ29udGVudD5cbiAgICAgICAgICApfVxuICAgICAgICA8L1NwcmluZz5cbiAgICAgICAgPEZvb3Rlck5hdj5cbiAgICAgICAgICA8RmxleCBwPXsyfSBqdXN0aWZ5Q29udGVudD1cInNwYWNlLWJldHdlZW5cIiBmbGV4V3JhcD1cIm5vd3JhcFwiIGZsZXhEaXJlY3Rpb249XCJyb3dcIj5cbiAgICAgICAgICAgIDxGbGV4IGFsaWduSXRlbXM9XCJjZW50ZXJcIiBmbGV4V3JhcD1cIm5vd3JhcFwiIGZsZXhEaXJlY3Rpb249XCJyb3dcIiBzdHlsZT17eyB3aWR0aDogMTE0IH19PlxuICAgICAgICAgICAgICA8VG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrIG9uUHJlc3M9eygpID0+IE5hdmlnYXRpb24ucG9wKHByb3BzLmNvbXBvbmVudElkKX0+XG4gICAgICAgICAgICAgICAgPEJhY2tBcnJvd0ljb24gLz5cbiAgICAgICAgICAgICAgPC9Ub3VjaGFibGVXaXRob3V0RmVlZGJhY2s+XG4gICAgICAgICAgICAgIDxTcGFjZXIgbXI9ezR9IC8+XG4gICAgICAgICAgICAgIDxUb3VjaGFibGVXaXRob3V0RmVlZGJhY2sgb25QcmVzcz17KCkgPT4gaGFuZGxlU2F2ZUJ1dHRvbigpfT5cbiAgICAgICAgICAgICAgICA8U2F2ZUljb24gLz5cbiAgICAgICAgICAgICAgPC9Ub3VjaGFibGVXaXRob3V0RmVlZGJhY2s+XG4gICAgICAgICAgICA8L0ZsZXg+XG4gICAgICAgICAgICA8VG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrIG9uUHJlc3M9eygpID0+IHRvZ2dsZVNob3dTaXplU2VsZWN0aW9uKCFzaG93U2l6ZVNlbGVjdGlvbil9PlxuICAgICAgICAgICAgICA8U2l6ZVNlbGVjdGlvbkJ1dHRvbiBwPXsyfT5cbiAgICAgICAgICAgICAgICA8U3R5bGVkU2FucyBzaXplPVwiMlwiIGNvbG9yPVwid2hpdGVcIj5cbiAgICAgICAgICAgICAgICAgIHtzaXplU2VsZWN0aW9uLmFiYnJldmlhdGVkLnRvVXBwZXJDYXNlKCl9XG4gICAgICAgICAgICAgICAgPC9TdHlsZWRTYW5zPlxuICAgICAgICAgICAgICAgIDxTcGFjZXIgbXI9ezN9IC8+XG4gICAgICAgICAgICAgICAgPFN0eWxlZERvd25DaGV2cm9uSWNvbiByb3RhdGU9e3Nob3dTaXplU2VsZWN0aW9ufSAvPlxuICAgICAgICAgICAgICA8L1NpemVTZWxlY3Rpb25CdXR0b24+XG4gICAgICAgICAgICA8L1RvdWNoYWJsZVdpdGhvdXRGZWVkYmFjaz5cbiAgICAgICAgICAgIDxSZXNlcnZlQnV0dG9uIHByb2R1Y3Q9e3Byb2R1Y3R9PjwvUmVzZXJ2ZUJ1dHRvbj5cbiAgICAgICAgICA8L0ZsZXg+XG4gICAgICAgIDwvRm9vdGVyTmF2PlxuICAgICAgICA8U2VsZWN0aW9uIG09ezJ9PlxuICAgICAgICAgIDxTY3JvbGxWaWV3PlxuICAgICAgICAgICAgPFNlcGFyYXRvciBjb2xvcj17Y29sb3IoXCJncmF5XCIpfSAvPlxuICAgICAgICAgICAge3JlbmRlclNpemVzKCl9XG4gICAgICAgICAgPC9TY3JvbGxWaWV3PlxuICAgICAgICAgIDxCdXR0b24gb25QcmVzcz17KCkgPT4gdG9nZ2xlU2hvd1NpemVTZWxlY3Rpb24oIXNob3dTaXplU2VsZWN0aW9uKX0+Q2FuY2VsPC9CdXR0b24+XG4gICAgICAgIDwvU2VsZWN0aW9uPlxuICAgICAgPC9PdXRlcj5cbiAgICA8L1RoZW1lPlxuICApXG59XG5cbmNvbnN0IFN0eWxlZERvd25DaGV2cm9uSWNvbiA9IHN0eWxlZChEb3duQ2hldnJvbkljb24pYFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAxNTtcbiAgdG9wOiAxNTtcbmBcblxuY29uc3QgU3R5bGVkU2FucyA9IHN0eWxlZChTYW5zKWBcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAxNTtcbiAgdG9wOiA4O1xuYFxuXG5jb25zdCBPdXRlciA9IHN0eWxlZC5WaWV3YFxuICBmbGV4OiAxO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcbmBcblxuY29uc3QgU2VsZWN0aW9uID0gc3R5bGVkLlZpZXdgXG4gIHBhZGRpbmctbGVmdDogJHtzcGFjZSgyKX1weDtcbiAgcGFkZGluZy1yaWdodDogJHtzcGFjZSgyKX1weDtcbiAgZmxleDogMTtcbiAgcGFkZGluZy1ib3R0b206ICR7c3BhY2UoMil9cHg7XG5gXG5cbmNvbnN0IE92ZXJsYXkgPSBzdHlsZWQuVmlld2BcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGZsZXg6IDE7XG4gIHdpZHRoOiAxMDAlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHotaW5kZXg6IDEwMDtcbmBcblxuY29uc3QgRm9vdGVyTmF2ID0gc3R5bGVkLlZpZXdgXG4gIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xuYFxuXG5jb25zdCBTaXplU2VsZWN0aW9uQnV0dG9uID0gc3R5bGVkLlZpZXdgXG4gIGJvcmRlci1yYWRpdXM6IDMwO1xuICB3aWR0aDogODg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICR7Y29sb3IoXCJncmF5XCIpfTtcbiAgYm9yZGVyLXdpZHRoOiAxO1xuICBib3JkZXItcmFkaXVzOiAyODtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuYFxuXG5jb25zdCBDb250ZW50ID0gc3R5bGVkLlZpZXdgXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAzMDtcbiAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDMwO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBtYXJnaW4tYm90dG9tOiAxMDtcbmBcblxuY29uc3QgQW5pbWF0ZWRDb250ZW50ID0gYW5pbWF0ZWQoQ29udGVudClcbmNvbnN0IEFuaW1hdGVkT3ZlcmxheSA9IGFuaW1hdGVkKE92ZXJsYXkpXG4iXX0=