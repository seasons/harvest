2e88bc8fa840ddc8e67ba5fa87c474ee
jest.mock("@react-native-community/async-storage", function () {
  return {
    AsyncStorage: {
      setItem: jest.fn(function () {
        return new Promise(function (resolve, reject) {
          resolve(null);
        });
      }),
      multiSet: jest.fn(function () {
        return new Promise(function (resolve, reject) {
          resolve(null);
        });
      }),
      getItem: jest.fn(function () {
        return new Promise(function (resolve, reject) {
          resolve({
            bag: {
              items: []
            }
          });
        });
      }),
      multiGet: jest.fn(function () {
        return new Promise(function (resolve, reject) {
          resolve(null);
        });
      }),
      removeItem: jest.fn(function () {
        return new Promise(function (resolve, reject) {
          resolve(null);
        });
      }),
      getAllKeys: jest.fn(function () {
        return new Promise(function (resolve) {
          resolve(["one", "two", "three"]);
        });
      })
    }
  };
});

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));

var _chalk = _interopRequireDefault(require("chalk"));

var _enzyme = _interopRequireDefault(require("enzyme"));

var _enzymeAdapterReact = _interopRequireDefault(require("enzyme-adapter-react-16"));

var _expect = _interopRequireDefault(require("expect"));

var _util = require("util");

var _snapshotDiff = _interopRequireDefault(require("snapshot-diff"));

_enzyme.default.configure({
  adapter: new _enzymeAdapterReact.default()
});

_expect.default.extend({
  toMatchDiffSnapshot: _snapshotDiff.default.toMatchDiffSnapshot
});

var originalConsoleError = console.error;

console.error = function (message) {
  if (typeof message === "string" && (message.includes("is using uppercase HTML. Always use lowercase HTML tags in React.") || /Warning: React does not recognize the `\w+` prop on a DOM element\./.test(message) || /Warning: The tag <\w+> is unrecognized in this browser\./.test(message) || /Warning: Unknown event handler property `\w+`\./.test(message) || /Warning: Received `\w+` for a non-boolean attribute `\w+`\./.test(message) || /Warning: [\w\s]+ has been extracted from react-native core/.test(message))) {} else {
    originalConsoleError(message);
  }
};

if (process.env.ALLOW_CONSOLE_LOGS !== "true") {
  var originalLoggers = {
    error: console.error,
    warn: console.warn
  };

  function logToError(type, args, constructorOpt) {
    var explanation = _chalk.default.white("Test failed due to `console." + type + "(\u2026)` call.\n") + _chalk.default.gray("(Disable with ALLOW_CONSOLE_LOGS=true env variable.)\n\n");

    if (args[0] instanceof Error) {
      var msg = explanation + _chalk.default.red(args[0].message);

      var err = new Error(msg);
      err.stack = args[0].stack.replace("Error: " + args[0].message, msg);
      return err;
    } else if (!args[0].includes("is using incorrect casing") && !args[0].includes("is unrecognized in this browser") && ![args[0].includes("React does not recognize the `testID` prop on a DOM element.")]) {
      var _err = new Error(explanation + _chalk.default.red(_util.format.apply(void 0, [args[0]].concat((0, _toConsumableArray2.default)(args.slice(1))))));

      Error.captureStackTrace(_err, constructorOpt);
      return _err;
    }

    return null;
  }

  beforeEach(function (done) {
    var types = ["error", "warn"];
    types.forEach(function (type) {
      if (console[type] === originalLoggers[type]) {
        var handler = function handler() {
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }

          var error = logToError(type, args, handler);

          if (error) {
            done.fail(error);
          }
        };

        jest.spyOn(console, type).mockImplementation(handler);
      }
    });
    done();
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNldHVwSmVzdC50cyJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsIkFzeW5jU3RvcmFnZSIsInNldEl0ZW0iLCJmbiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwibXVsdGlTZXQiLCJnZXRJdGVtIiwiYmFnIiwiaXRlbXMiLCJtdWx0aUdldCIsInJlbW92ZUl0ZW0iLCJnZXRBbGxLZXlzIiwiRW56eW1lIiwiY29uZmlndXJlIiwiYWRhcHRlciIsIkFkYXB0ZXIiLCJleHBlY3QiLCJleHRlbmQiLCJ0b01hdGNoRGlmZlNuYXBzaG90IiwiZGlmZiIsIm9yaWdpbmFsQ29uc29sZUVycm9yIiwiY29uc29sZSIsImVycm9yIiwibWVzc2FnZSIsImluY2x1ZGVzIiwidGVzdCIsInByb2Nlc3MiLCJlbnYiLCJBTExPV19DT05TT0xFX0xPR1MiLCJvcmlnaW5hbExvZ2dlcnMiLCJ3YXJuIiwibG9nVG9FcnJvciIsInR5cGUiLCJhcmdzIiwiY29uc3RydWN0b3JPcHQiLCJleHBsYW5hdGlvbiIsImNoYWxrIiwid2hpdGUiLCJncmF5IiwiRXJyb3IiLCJtc2ciLCJyZWQiLCJlcnIiLCJzdGFjayIsInJlcGxhY2UiLCJmb3JtYXQiLCJzbGljZSIsImNhcHR1cmVTdGFja1RyYWNlIiwiYmVmb3JlRWFjaCIsImRvbmUiLCJ0eXBlcyIsImZvckVhY2giLCJoYW5kbGVyIiwiZmFpbCIsInNweU9uIiwibW9ja0ltcGxlbWVudGF0aW9uIl0sIm1hcHBpbmdzIjoiQUF5RkFBLElBQUksQ0FBQ0MsSUFBTCxDQUFVLHVDQUFWLEVBQW1EO0FBQUEsU0FBTztBQUN4REMsSUFBQUEsWUFBWSxFQUFFO0FBQ1pDLE1BQUFBLE9BQU8sRUFBRUgsSUFBSSxDQUFDSSxFQUFMLENBQVEsWUFBTTtBQUNyQixlQUFPLElBQUlDLE9BQUosQ0FBWSxVQUFDQyxPQUFELEVBQVVDLE1BQVYsRUFBcUI7QUFDdENELFVBQUFBLE9BQU8sQ0FBQyxJQUFELENBQVA7QUFDRCxTQUZNLENBQVA7QUFH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QixRQUFNQyxLQUE4QixHQUFHLENBQUMsT0FBRCxFQUFVLE1BQVYsQ0FBdkM7QUFDQUEsSUFBQUEsS0FBSyxDQUFDQyxPQUFOLENBQWMsVUFBQW5CLElBQUksRUFBSTtBQUVwQixVQUFJWCxPQUFPLENBQUNXLElBQUQsQ0FBUCxLQUFrQkgsZUFBZSxDQUFDRyxJQUFELENBQXJDLEVBQTZDO0FBQzNDLFlBQU1vQixPQUFPLEdBQUcsU0FBVkEsT0FBVSxHQUFhO0FBQUEsNENBQVRuQixJQUFTO0FBQVRBLFlBQUFBLElBQVM7QUFBQTs7QUFDM0IsY0FBTVgsS0FBSyxHQUFHUyxVQUFVLENBQUNDLElBQUQsRUFBT0MsSUFBUCxFQUFhbUIsT0FBYixDQUF4Qjs7QUFDQSxjQUFJOUIsS0FBSixFQUFXO0FBQ1QyQixZQUFBQSxJQUFJLENBQUNJLElBQUwsQ0FBVS9CLEtBQVY7QUFDRDtBQUNGLFNBTEQ7O0FBTUF6QixRQUFBQSxJQUFJLENBQUN5RCxLQUFMLENBQVdqQyxPQUFYLEVBQW9CVyxJQUFwQixFQUEwQnVCLGtCQUExQixDQUE2Q0gsT0FBN0M7QUFDRDtBQUNGLEtBWEQ7QUFZQUgsSUFBQUEsSUFBSTtBQUNMLEdBZlMsQ0FBVjtBQWdCRCIsInNvdXJjZXNDb250ZW50IjpbIi8vIHJlOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QtbmF0aXZlL2lzc3Vlcy8xOTk1NVxuLy8gYW5kIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9tZXRyby9wdWxsLzE5OFxuLy9cbi8vIGltcG9ydCBhcHBseURlY29yYXRlZERlc2NyaXB0b3IgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yXCJcbi8vIGltcG9ydCBpbml0aWFsaXplckRlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaXRpYWxpemVyRGVmaW5lUHJvcGVydHlcIlxuLy8gZGVjbGFyZSB2YXIgYmFiZWxIZWxwZXJzOiBhbnlcbi8vIE9iamVjdC5hc3NpZ24oYmFiZWxIZWxwZXJzLCB7IGFwcGx5RGVjb3JhdGVkRGVzY3JpcHRvciwgaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSB9KVxuLy8gaW1wb3J0IFwiQGJhYmVsL3J1bnRpbWVcIlxuXG5pbXBvcnQgY2hhbGsgZnJvbSBcImNoYWxrXCJcbmltcG9ydCBFbnp5bWUgZnJvbSBcImVuenltZVwiXG5pbXBvcnQgQWRhcHRlciBmcm9tIFwiZW56eW1lLWFkYXB0ZXItcmVhY3QtMTZcIlxuaW1wb3J0IGV4cGVjdCBmcm9tIFwiZXhwZWN0XCJcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gXCJ1dGlsXCJcblxuRW56eW1lLmNvbmZpZ3VyZSh7IGFkYXB0ZXI6IG5ldyBBZGFwdGVyKCkgfSlcblxuLy8gV2FpdGluZyBvbiBodHRwczovL2dpdGh1Yi5jb20vdGh5bWlrZWUvc25hcHNob3QtZGlmZi9wdWxsLzE3XG5pbXBvcnQgZGlmZiBmcm9tIFwic25hcHNob3QtZGlmZlwiXG5leHBlY3QuZXh0ZW5kKHsgdG9NYXRjaERpZmZTbmFwc2hvdDogKGRpZmYgYXMgYW55KS50b01hdGNoRGlmZlNuYXBzaG90IH0pXG5cbmNvbnN0IG9yaWdpbmFsQ29uc29sZUVycm9yID0gY29uc29sZS5lcnJvclxuXG4vLyBUT0RPOiBSZW1vdmUgb25jZSB3ZSdyZSBubyBsb25nZXIgdXNpbmcgSlNET00gZm9yIGVuenltZSBzdGF0aWMgcmVuZGVyaW5nLlxuY29uc29sZS5lcnJvciA9IChtZXNzYWdlPzogYW55KSA9PiB7XG4gIGlmIChcbiAgICB0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgIChtZXNzYWdlLmluY2x1ZGVzKFwiaXMgdXNpbmcgdXBwZXJjYXNlIEhUTUwuIEFsd2F5cyB1c2UgbG93ZXJjYXNlIEhUTUwgdGFncyBpbiBSZWFjdC5cIikgfHxcbiAgICAgIC9XYXJuaW5nOiBSZWFjdCBkb2VzIG5vdCByZWNvZ25pemUgdGhlIGBcXHcrYCBwcm9wIG9uIGEgRE9NIGVsZW1lbnRcXC4vLnRlc3QobWVzc2FnZSkgfHxcbiAgICAgIC9XYXJuaW5nOiBUaGUgdGFnIDxcXHcrPiBpcyB1bnJlY29nbml6ZWQgaW4gdGhpcyBicm93c2VyXFwuLy50ZXN0KG1lc3NhZ2UpIHx8XG4gICAgICAvV2FybmluZzogVW5rbm93biBldmVudCBoYW5kbGVyIHByb3BlcnR5IGBcXHcrYFxcLi8udGVzdChtZXNzYWdlKSB8fFxuICAgICAgL1dhcm5pbmc6IFJlY2VpdmVkIGBcXHcrYCBmb3IgYSBub24tYm9vbGVhbiBhdHRyaWJ1dGUgYFxcdytgXFwuLy50ZXN0KG1lc3NhZ2UpIHx8XG4gICAgICAvV2FybmluZzogW1xcd1xcc10rIGhhcyBiZWVuIGV4dHJhY3RlZCBmcm9tIHJlYWN0LW5hdGl2ZSBjb3JlLy50ZXN0KG1lc3NhZ2UpKVxuICApIHtcbiAgICAvLyBOT09QXG4gIH0gZWxzZSB7XG4gICAgb3JpZ2luYWxDb25zb2xlRXJyb3IobWVzc2FnZSlcbiAgfVxufVxuXG5kZWNsYXJlIGNvbnN0IHByb2Nlc3M6IGFueVxuXG5pZiAocHJvY2Vzcy5lbnYuQUxMT1dfQ09OU09MRV9MT0dTICE9PSBcInRydWVcIikge1xuICBjb25zdCBvcmlnaW5hbExvZ2dlcnMgPSB7XG4gICAgZXJyb3I6IGNvbnNvbGUuZXJyb3IsXG4gICAgd2FybjogY29uc29sZS53YXJuLFxuICB9XG5cbiAgZnVuY3Rpb24gbG9nVG9FcnJvcih0eXBlLCBhcmdzLCBjb25zdHJ1Y3Rvck9wdDogKCkgPT4gdm9pZCkge1xuICAgIGNvbnN0IGV4cGxhbmF0aW9uID1cbiAgICAgIGNoYWxrLndoaXRlKGBUZXN0IGZhaWxlZCBkdWUgdG8gXFxgY29uc29sZS4ke3R5cGV9KOKApilcXGAgY2FsbC5cXG5gKSArXG4gICAgICBjaGFsay5ncmF5KFwiKERpc2FibGUgd2l0aCBBTExPV19DT05TT0xFX0xPR1M9dHJ1ZSBlbnYgdmFyaWFibGUuKVxcblxcblwiKVxuICAgIGlmIChhcmdzWzBdIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIGNvbnN0IG1zZyA9IGV4cGxhbmF0aW9uICsgY2hhbGsucmVkKGFyZ3NbMF0ubWVzc2FnZSlcbiAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihtc2cpXG4gICAgICBlcnIuc3RhY2sgPSBhcmdzWzBdLnN0YWNrLnJlcGxhY2UoYEVycm9yOiAke2FyZ3NbMF0ubWVzc2FnZX1gLCBtc2cpXG4gICAgICByZXR1cm4gZXJyXG4gICAgfSBlbHNlIGlmIChcbiAgICAgIC8vIEJlY2F1c2Ugd2UgdXNlIHJlYWN0LWRvbSBpbiB0ZXN0cyB0byByZW5kZXIgcmVhY3QtbmF0aXZlIGNvbXBvbmVudHMsIGEgZmV3IHdhcm5pbmdzIGFyZSBiZWluZyBsb2dnZWQgdGhhdCB3ZSBkb1xuICAgICAgLy8gbm90IGNhcmUgZm9yLCBzbyBpZ25vcmUgdGhlc2UuXG4gICAgICAhYXJnc1swXS5pbmNsdWRlcyhcImlzIHVzaW5nIGluY29ycmVjdCBjYXNpbmdcIikgJiZcbiAgICAgICFhcmdzWzBdLmluY2x1ZGVzKFwiaXMgdW5yZWNvZ25pemVkIGluIHRoaXMgYnJvd3NlclwiKSAmJlxuICAgICAgIVthcmdzWzBdLmluY2x1ZGVzKFwiUmVhY3QgZG9lcyBub3QgcmVjb2duaXplIHRoZSBgdGVzdElEYCBwcm9wIG9uIGEgRE9NIGVsZW1lbnQuXCIpXVxuICAgICkge1xuICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKGV4cGxhbmF0aW9uICsgY2hhbGsucmVkKGZvcm1hdChhcmdzWzBdLCAuLi5hcmdzLnNsaWNlKDEpKSkpXG4gICAgICA7KEVycm9yIGFzIGFueSkuY2FwdHVyZVN0YWNrVHJhY2UoZXJyLCBjb25zdHJ1Y3Rvck9wdClcbiAgICAgIHJldHVybiBlcnJcbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGJlZm9yZUVhY2goZG9uZSA9PiB7XG4gICAgY29uc3QgdHlwZXM6IEFycmF5PFwiZXJyb3JcIiB8IFwid2FyblwiPiA9IFtcImVycm9yXCIsIFwid2FyblwiXVxuICAgIHR5cGVzLmZvckVhY2godHlwZSA9PiB7XG4gICAgICAvLyBEb24ndCBzcHkgb24gbG9nZ2VycyB0aGF0IGhhdmUgYmVlbiBtb2RpZmllZCBieSB0aGUgY3VycmVudCB0ZXN0LlxuICAgICAgaWYgKGNvbnNvbGVbdHlwZV0gPT09IG9yaWdpbmFsTG9nZ2Vyc1t0eXBlXSkge1xuICAgICAgICBjb25zdCBoYW5kbGVyID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICBjb25zdCBlcnJvciA9IGxvZ1RvRXJyb3IodHlwZSwgYXJncywgaGFuZGxlcilcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGRvbmUuZmFpbChlcnJvcilcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgamVzdC5zcHlPbihjb25zb2xlLCB0eXBlKS5tb2NrSW1wbGVtZW50YXRpb24oaGFuZGxlcilcbiAgICAgIH1cbiAgICB9KVxuICAgIGRvbmUoKSAvLyBpdCBpcyBpbXBvcnRhbnQgdG8gY2FsbCB0aGlzIGhlcmUgb3IgZXZlcnkgdGVzdCB3aWxsIHRpbWVvdXRcbiAgfSlcbn1cblxuamVzdC5tb2NrKFwiQHJlYWN0LW5hdGl2ZS1jb21tdW5pdHkvYXN5bmMtc3RvcmFnZVwiLCAoKSA9PiAoe1xuICBBc3luY1N0b3JhZ2U6IHtcbiAgICBzZXRJdGVtOiBqZXN0LmZuKCgpID0+IHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHJlc29sdmUobnVsbClcbiAgICAgIH0pXG4gICAgfSksXG4gICAgbXVsdGlTZXQ6IGplc3QuZm4oKCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgcmVzb2x2ZShudWxsKVxuICAgICAgfSlcbiAgICB9KSxcbiAgICBnZXRJdGVtOiBqZXN0LmZuKCgpID0+IHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHJlc29sdmUoeyBiYWc6IHsgaXRlbXM6IFtdIH0gfSlcbiAgICAgIH0pXG4gICAgfSksXG4gICAgbXVsdGlHZXQ6IGplc3QuZm4oKCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgcmVzb2x2ZShudWxsKVxuICAgICAgfSlcbiAgICB9KSxcbiAgICByZW1vdmVJdGVtOiBqZXN0LmZuKCgpID0+IHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHJlc29sdmUobnVsbClcbiAgICAgIH0pXG4gICAgfSksXG4gICAgZ2V0QWxsS2V5czogamVzdC5mbigoKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIHJlc29sdmUoW1wib25lXCIsIFwidHdvXCIsIFwidGhyZWVcIl0pXG4gICAgICB9KVxuICAgIH0pLFxuICB9LFxufSkpXG4iXX0=