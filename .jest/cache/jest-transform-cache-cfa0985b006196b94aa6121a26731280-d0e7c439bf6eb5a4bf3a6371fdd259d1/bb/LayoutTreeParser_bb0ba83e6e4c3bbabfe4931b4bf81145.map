{"version":3,"sources":["LayoutTreeParser.js"],"names":["Object","defineProperty","exports","value","LayoutType_1","require","LayoutTreeParser","uniqueIdProvider","parse","bind","api","topTabs","sideMenu","bottomTabs","stack","component","externalComponent","splitView","Error","keys","id","generate","LayoutType","TopTabs","type","data","options","children","map","SideMenuRoot","sideMenuChildren","left","push","SideMenuLeft","SideMenuCenter","center","right","SideMenuRight","BottomTabs","Stack","Component","name","toString","passProps","ExternalComponent","master","undefined","detail","SplitView"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst LayoutType_1 = require(\"./LayoutType\");\nclass LayoutTreeParser {\n    constructor(uniqueIdProvider) {\n        this.uniqueIdProvider = uniqueIdProvider;\n        this.parse = this.parse.bind(this);\n    }\n    parse(api) {\n        if (api.topTabs) {\n            return this.topTabs(api.topTabs);\n        }\n        else if (api.sideMenu) {\n            return this.sideMenu(api.sideMenu);\n        }\n        else if (api.bottomTabs) {\n            return this.bottomTabs(api.bottomTabs);\n        }\n        else if (api.stack) {\n            return this.stack(api.stack);\n        }\n        else if (api.component) {\n            return this.component(api.component);\n        }\n        else if (api.externalComponent) {\n            return this.externalComponent(api.externalComponent);\n        }\n        else if (api.splitView) {\n            return this.splitView(api.splitView);\n        }\n        throw new Error(`unknown LayoutType \"${Object.keys(api)}\"`);\n    }\n    topTabs(api) {\n        return {\n            id: api.id || this.uniqueIdProvider.generate(LayoutType_1.LayoutType.TopTabs),\n            type: LayoutType_1.LayoutType.TopTabs,\n            data: { options: api.options },\n            children: api.children ? api.children.map(this.parse) : []\n        };\n    }\n    sideMenu(api) {\n        return {\n            id: api.id || this.uniqueIdProvider.generate(LayoutType_1.LayoutType.SideMenuRoot),\n            type: LayoutType_1.LayoutType.SideMenuRoot,\n            data: { options: api.options },\n            children: this.sideMenuChildren(api)\n        };\n    }\n    sideMenuChildren(api) {\n        const children = [];\n        if (api.left) {\n            children.push({\n                id: this.uniqueIdProvider.generate(LayoutType_1.LayoutType.SideMenuLeft),\n                type: LayoutType_1.LayoutType.SideMenuLeft,\n                data: {},\n                children: [this.parse(api.left)]\n            });\n        }\n        children.push({\n            id: this.uniqueIdProvider.generate(LayoutType_1.LayoutType.SideMenuCenter),\n            type: LayoutType_1.LayoutType.SideMenuCenter,\n            data: {},\n            children: [this.parse(api.center)]\n        });\n        if (api.right) {\n            children.push({\n                id: this.uniqueIdProvider.generate(LayoutType_1.LayoutType.SideMenuRight),\n                type: LayoutType_1.LayoutType.SideMenuRight,\n                data: {},\n                children: [this.parse(api.right)]\n            });\n        }\n        return children;\n    }\n    bottomTabs(api) {\n        return {\n            id: api.id || this.uniqueIdProvider.generate(LayoutType_1.LayoutType.BottomTabs),\n            type: LayoutType_1.LayoutType.BottomTabs,\n            data: { options: api.options },\n            children: api.children ? api.children.map(this.parse) : []\n        };\n    }\n    stack(api) {\n        return {\n            id: api.id || this.uniqueIdProvider.generate(LayoutType_1.LayoutType.Stack),\n            type: LayoutType_1.LayoutType.Stack,\n            data: { options: api.options },\n            children: api.children ? api.children.map(this.parse) : []\n        };\n    }\n    component(api) {\n        return {\n            id: api.id || this.uniqueIdProvider.generate(LayoutType_1.LayoutType.Component),\n            type: LayoutType_1.LayoutType.Component,\n            data: { name: api.name.toString(), options: api.options, passProps: api.passProps },\n            children: []\n        };\n    }\n    externalComponent(api) {\n        return {\n            id: api.id || this.uniqueIdProvider.generate(LayoutType_1.LayoutType.ExternalComponent),\n            type: LayoutType_1.LayoutType.ExternalComponent,\n            data: { name: api.name.toString(), options: api.options, passProps: api.passProps },\n            children: []\n        };\n    }\n    splitView(api) {\n        const master = api.master ? this.parse(api.master) : undefined;\n        const detail = api.detail ? this.parse(api.detail) : undefined;\n        return {\n            id: api.id || this.uniqueIdProvider.generate(LayoutType_1.LayoutType.SplitView),\n            type: LayoutType_1.LayoutType.SplitView,\n            data: { options: api.options },\n            children: master && detail ? [master, detail] : []\n        };\n    }\n}\nexports.LayoutTreeParser = LayoutTreeParser;\n"]}