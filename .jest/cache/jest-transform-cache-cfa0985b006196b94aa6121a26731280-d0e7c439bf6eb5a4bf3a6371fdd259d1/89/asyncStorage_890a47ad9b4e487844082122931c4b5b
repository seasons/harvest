666464a103bcce3452bed3bd7c9781a4
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.restoreCache = exports.persistCache = void 0;

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

var _asyncStorage = _interopRequireDefault(require("@react-native-community/async-storage"));

var persistCache = function persistCache(data) {
  return _regenerator.default.async(function persistCache$(_context) {
    while (1) {
      switch (_context.prev = _context.next) {
        case 0:
          _context.prev = 0;
          _context.next = 3;
          return _regenerator.default.awrap(_asyncStorage.default.setItem("@initial_state", JSON.stringify(data)));

        case 3:
          _context.next = 8;
          break;

        case 5:
          _context.prev = 5;
          _context.t0 = _context["catch"](0);
          console.warn("Error saving AsyncStorage: ", _context.t0);

        case 8:
        case "end":
          return _context.stop();
      }
    }
  }, null, null, [[0, 5]]);
};

exports.persistCache = persistCache;

var restoreCache = function restoreCache() {
  var value;
  return _regenerator.default.async(function restoreCache$(_context2) {
    while (1) {
      switch (_context2.prev = _context2.next) {
        case 0:
          _context2.prev = 0;
          _context2.next = 3;
          return _regenerator.default.awrap(_asyncStorage.default.getItem("@initial_state"));

        case 3:
          value = _context2.sent;

          if (!(value !== null)) {
            _context2.next = 8;
            break;
          }

          return _context2.abrupt("return", JSON.parse(value));

        case 8:
          return _context2.abrupt("return", {
            bag: {
              items: []
            }
          });

        case 9:
          _context2.next = 14;
          break;

        case 11:
          _context2.prev = 11;
          _context2.t0 = _context2["catch"](0);
          return _context2.abrupt("return", {
            bag: {
              items: []
            }
          });

        case 14:
        case "end":
          return _context2.stop();
      }
    }
  }, null, null, [[0, 11]]);
};

exports.restoreCache = restoreCache;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzeW5jU3RvcmFnZS50cyJdLCJuYW1lcyI6WyJwZXJzaXN0Q2FjaGUiLCJkYXRhIiwiQXN5bmNTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb25zb2xlIiwid2FybiIsInJlc3RvcmVDYWNoZSIsImdldEl0ZW0iLCJ2YWx1ZSIsInBhcnNlIiwiYmFnIiwiaXRlbXMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUVPLElBQU1BLFlBQVksR0FBRyxTQUFmQSxZQUFlLENBQU1DLElBQU47QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSw0Q0FFbEJDLHNCQUFhQyxPQUFiLENBQXFCLGdCQUFyQixFQUF1Q0MsSUFBSSxDQUFDQyxTQUFMLENBQWVKLElBQWYsQ0FBdkMsQ0FGa0I7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUl4QkssVUFBQUEsT0FBTyxDQUFDQyxJQUFSLENBQWEsNkJBQWI7O0FBSndCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLENBQXJCOzs7O0FBUUEsSUFBTUMsWUFBWSxHQUFHLFNBQWZBLFlBQWU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLDRDQUVKTixzQkFBYU8sT0FBYixDQUFxQixnQkFBckIsQ0FGSTs7QUFBQTtBQUVsQkMsVUFBQUEsS0FGa0I7O0FBQUEsZ0JBR3BCQSxLQUFLLEtBQUssSUFIVTtBQUFBO0FBQUE7QUFBQTs7QUFBQSw0Q0FJZk4sSUFBSSxDQUFDTyxLQUFMLENBQVdELEtBQVgsQ0FKZTs7QUFBQTtBQUFBLDRDQU1mO0FBQ0xFLFlBQUFBLEdBQUcsRUFBRTtBQUFFQyxjQUFBQSxLQUFLLEVBQUU7QUFBVDtBQURBLFdBTmU7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBLDRDQVdqQjtBQUNMRCxZQUFBQSxHQUFHLEVBQUU7QUFBRUMsY0FBQUEsS0FBSyxFQUFFO0FBQVQ7QUFEQSxXQVhpQjs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxDQUFyQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBc3luY1N0b3JhZ2UgZnJvbSBcIkByZWFjdC1uYXRpdmUtY29tbXVuaXR5L2FzeW5jLXN0b3JhZ2VcIlxuXG5leHBvcnQgY29uc3QgcGVyc2lzdENhY2hlID0gYXN5bmMgZGF0YSA9PiB7XG4gIHRyeSB7XG4gICAgYXdhaXQgQXN5bmNTdG9yYWdlLnNldEl0ZW0oXCJAaW5pdGlhbF9zdGF0ZVwiLCBKU09OLnN0cmluZ2lmeShkYXRhKSlcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUud2FybihcIkVycm9yIHNhdmluZyBBc3luY1N0b3JhZ2U6IFwiLCBlKVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCByZXN0b3JlQ2FjaGUgPSBhc3luYyAoKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdmFsdWUgPSBhd2FpdCBBc3luY1N0b3JhZ2UuZ2V0SXRlbShcIkBpbml0aWFsX3N0YXRlXCIpXG4gICAgaWYgKHZhbHVlICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYmFnOiB7IGl0ZW1zOiBbXSB9LFxuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB7XG4gICAgICBiYWc6IHsgaXRlbXM6IFtdIH0sXG4gICAgfVxuICB9XG59XG4iXX0=