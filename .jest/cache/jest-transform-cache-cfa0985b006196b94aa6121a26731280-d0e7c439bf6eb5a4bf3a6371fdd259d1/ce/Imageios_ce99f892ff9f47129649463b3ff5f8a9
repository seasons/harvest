20b8566c58ed860912fe423e2e4b086d
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

var DeprecatedImagePropType = require('DeprecatedImagePropType');

var NativeModules = require('NativeModules');

var React = require('React');

var ReactNative = require('ReactNative');

var StyleSheet = require('StyleSheet');

var flattenStyle = require('flattenStyle');

var requireNativeComponent = require('requireNativeComponent');

var resolveAssetSource = require('resolveAssetSource');

var ImageViewManager = NativeModules.ImageViewManager;
var RCTImageView = requireNativeComponent('RCTImageView');

function getSize(uri, success, failure) {
  ImageViewManager.getSize(uri, success, failure || function () {
    console.warn('Failed to get size for image: ' + uri);
  });
}

function prefetch(url) {
  return ImageViewManager.prefetchImage(url);
}

function queryCache(urls) {
  return _regenerator.default.async(function queryCache$(_context) {
    while (1) {
      switch (_context.prev = _context.next) {
        case 0:
          _context.next = 2;
          return _regenerator.default.awrap(ImageViewManager.queryCache(urls));

        case 2:
          return _context.abrupt("return", _context.sent);

        case 3:
        case "end":
          return _context.stop();
      }
    }
  });
}

var Image = function Image(props, forwardedRef) {
  var source = resolveAssetSource(props.source) || {
    uri: undefined,
    width: undefined,
    height: undefined
  };
  var sources;
  var style;

  if (Array.isArray(source)) {
    style = flattenStyle([styles.base, props.style]) || {};
    sources = source;
  } else {
    var _width = source.width,
        _height = source.height,
        uri = source.uri;
    style = flattenStyle([{
      width: _width,
      height: _height
    }, styles.base, props.style]) || {};
    sources = [source];

    if (uri === '') {
      console.warn('source.uri should not be an empty string');
    }
  }

  var resizeMode = props.resizeMode || style.resizeMode || 'cover';
  var tintColor = style.tintColor;

  if (props.src != null) {
    console.warn('The <Image> component requires a `source` property rather than `src`.');
  }

  if (props.children != null) {
    throw new Error('The <Image> component cannot contain children. If you want to render content on top of the image, consider using the <ImageBackground> component or absolute positioning.');
  }

  return React.createElement(RCTImageView, (0, _extends2.default)({}, props, {
    ref: forwardedRef,
    style: style,
    resizeMode: resizeMode,
    tintColor: tintColor,
    source: sources
  }));
};

Image = React.forwardRef(Image);
Image.displayName = 'Image';
Image.getSize = getSize;
Image.prefetch = prefetch;
Image.queryCache = queryCache;
Image.resolveAssetSource = resolveAssetSource;
Image.propTypes = DeprecatedImagePropType;
var styles = StyleSheet.create({
  base: {
    overflow: 'hidden'
  }
});
module.exports = Image;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkltYWdlLmlvcy5qcyJdLCJuYW1lcyI6WyJEZXByZWNhdGVkSW1hZ2VQcm9wVHlwZSIsInJlcXVpcmUiLCJOYXRpdmVNb2R1bGVzIiwiUmVhY3QiLCJSZWFjdE5hdGl2ZSIsIlN0eWxlU2hlZXQiLCJmbGF0dGVuU3R5bGUiLCJyZXF1aXJlTmF0aXZlQ29tcG9uZW50IiwicmVzb2x2ZUFzc2V0U291cmNlIiwiSW1hZ2VWaWV3TWFuYWdlciIsIlJDVEltYWdlVmlldyIsImdldFNpemUiLCJ1cmkiLCJzdWNjZXNzIiwiZmFpbHVyZSIsImNvbnNvbGUiLCJ3YXJuIiwicHJlZmV0Y2giLCJ1cmwiLCJwcmVmZXRjaEltYWdlIiwicXVlcnlDYWNoZSIsInVybHMiLCJJbWFnZSIsInByb3BzIiwiZm9yd2FyZGVkUmVmIiwic291cmNlIiwidW5kZWZpbmVkIiwid2lkdGgiLCJoZWlnaHQiLCJzb3VyY2VzIiwic3R5bGUiLCJBcnJheSIsImlzQXJyYXkiLCJzdHlsZXMiLCJiYXNlIiwicmVzaXplTW9kZSIsInRpbnRDb2xvciIsInNyYyIsImNoaWxkcmVuIiwiRXJyb3IiLCJmb3J3YXJkUmVmIiwiZGlzcGxheU5hbWUiLCJwcm9wVHlwZXMiLCJjcmVhdGUiLCJvdmVyZmxvdyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQVNBOzs7Ozs7OztBQUVBLElBQU1BLHVCQUF1QixHQUFHQyxPQUFPLENBQUMseUJBQUQsQ0FBdkM7O0FBQ0EsSUFBTUMsYUFBYSxHQUFHRCxPQUFPLENBQUMsZUFBRCxDQUE3Qjs7QUFDQSxJQUFNRSxLQUFLLEdBQUdGLE9BQU8sQ0FBQyxPQUFELENBQXJCOztBQUNBLElBQU1HLFdBQVcsR0FBR0gsT0FBTyxDQUFDLGFBQUQsQ0FBM0I7O0FBQ0EsSUFBTUksVUFBVSxHQUFHSixPQUFPLENBQUMsWUFBRCxDQUExQjs7QUFFQSxJQUFNSyxZQUFZLEdBQUdMLE9BQU8sQ0FBQyxjQUFELENBQTVCOztBQUNBLElBQU1NLHNCQUFzQixHQUFH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QUFHRSxJQUFBLEtBQUssRUFBRU0sS0FIVDtBQUlFLElBQUEsVUFBVSxFQUFFSyxVQUpkO0FBS0UsSUFBQSxTQUFTLEVBQUVDLFNBTGI7QUFNRSxJQUFBLE1BQU0sRUFBRVA7QUFOVixLQURGO0FBVUQsQ0FwREQ7O0FBc0RBUCxLQUFLLEdBQUduQixLQUFLLENBQUNxQyxVQUFOLENBQWlCbEIsS0FBakIsQ0FBUjtBQUNBQSxLQUFLLENBQUNtQixXQUFOLEdBQW9CLE9BQXBCO0FBVUFuQixLQUFLLENBQUNYLE9BQU4sR0FBZ0JBLE9BQWhCO0FBV0FXLEtBQUssQ0FBQ0wsUUFBTixHQUFpQkEsUUFBakI7QUFVQUssS0FBSyxDQUFDRixVQUFOLEdBQW1CQSxVQUFuQjtBQVVBRSxLQUFLLENBQUNkLGtCQUFOLEdBQTJCQSxrQkFBM0I7QUFLQWMsS0FBSyxDQUFDb0IsU0FBTixHQUFrQjFDLHVCQUFsQjtBQUVBLElBQU1pQyxNQUFNLEdBQUc1QixVQUFVLENBQUNzQyxNQUFYLENBQWtCO0FBQy9CVCxFQUFBQSxJQUFJLEVBQUU7QUFDSlUsSUFBQUEsUUFBUSxFQUFFO0FBRE47QUFEeUIsQ0FBbEIsQ0FBZjtBQVNBQyxNQUFNLENBQUNDLE9BQVAsR0FBa0J4QixLQUFsQiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBEZXByZWNhdGVkSW1hZ2VQcm9wVHlwZSA9IHJlcXVpcmUoJ0RlcHJlY2F0ZWRJbWFnZVByb3BUeXBlJyk7XG5jb25zdCBOYXRpdmVNb2R1bGVzID0gcmVxdWlyZSgnTmF0aXZlTW9kdWxlcycpO1xuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdSZWFjdCcpO1xuY29uc3QgUmVhY3ROYXRpdmUgPSByZXF1aXJlKCdSZWFjdE5hdGl2ZScpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5jb25zdCBTdHlsZVNoZWV0ID0gcmVxdWlyZSgnU3R5bGVTaGVldCcpO1xuXG5jb25zdCBmbGF0dGVuU3R5bGUgPSByZXF1aXJlKCdmbGF0dGVuU3R5bGUnKTtcbmNvbnN0IHJlcXVpcmVOYXRpdmVDb21wb25lbnQgPSByZXF1aXJlKCdyZXF1aXJlTmF0aXZlQ29tcG9uZW50Jyk7XG5jb25zdCByZXNvbHZlQXNzZXRTb3VyY2UgPSByZXF1aXJlKCdyZXNvbHZlQXNzZXRTb3VyY2UnKTtcblxuY29uc3QgSW1hZ2VWaWV3TWFuYWdlciA9IE5hdGl2ZU1vZHVsZXMuSW1hZ2VWaWV3TWFuYWdlcjtcblxuY29uc3QgUkNUSW1hZ2VWaWV3ID0gcmVxdWlyZU5hdGl2ZUNvbXBvbmVudCgnUkNUSW1hZ2VWaWV3Jyk7XG5cbmltcG9ydCB0eXBlIHtJbWFnZVByb3BzIGFzIEltYWdlUHJvcHNUeXBlfSBmcm9tICdJbWFnZVByb3BzJztcblxuaW1wb3J0IHR5cGUge0ltYWdlU3R5bGVQcm9wfSBmcm9tICdTdHlsZVNoZWV0JztcblxuZnVuY3Rpb24gZ2V0U2l6ZShcbiAgdXJpOiBzdHJpbmcsXG4gIHN1Y2Nlc3M6ICh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4gdm9pZCxcbiAgZmFpbHVyZT86IChlcnJvcjogYW55KSA9PiB2b2lkLFxuKSB7XG4gIEltYWdlVmlld01hbmFnZXIuZ2V0U2l6ZShcbiAgICB1cmksXG4gICAgc3VjY2VzcyxcbiAgICBmYWlsdXJlIHx8XG4gICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gZ2V0IHNpemUgZm9yIGltYWdlOiAnICsgdXJpKTtcbiAgICAgIH0sXG4gICk7XG59XG5cbmZ1bmN0aW9uIHByZWZldGNoKHVybDogc3RyaW5nKSB7XG4gIHJldHVybiBJbWFnZVZpZXdNYW5hZ2VyLnByZWZldGNoSW1hZ2UodXJsKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcXVlcnlDYWNoZShcbiAgdXJsczogQXJyYXk8c3RyaW5nPixcbik6IFByb21pc2U8TWFwPHN0cmluZywgJ21lbW9yeScgfCAnZGlzayc+PiB7XG4gIHJldHVybiBhd2FpdCBJbWFnZVZpZXdNYW5hZ2VyLnF1ZXJ5Q2FjaGUodXJscyk7XG59XG5cbmRlY2xhcmUgY2xhc3MgSW1hZ2VDb21wb25lbnRUeXBlIGV4dGVuZHMgUmVhY3ROYXRpdmUuTmF0aXZlQ29tcG9uZW50PFxuICBJbWFnZVByb3BzVHlwZSxcbj4ge1xuICBzdGF0aWMgZ2V0U2l6ZTogdHlwZW9mIGdldFNpemU7XG4gIHN0YXRpYyBwcmVmZXRjaDogdHlwZW9mIHByZWZldGNoO1xuICBzdGF0aWMgcXVlcnlDYWNoZTogdHlwZW9mIHF1ZXJ5Q2FjaGU7XG4gIHN0YXRpYyByZXNvbHZlQXNzZXRTb3VyY2U6IHR5cGVvZiByZXNvbHZlQXNzZXRTb3VyY2U7XG4gIHN0YXRpYyBwcm9wVHlwZXM6IHR5cGVvZiBEZXByZWNhdGVkSW1hZ2VQcm9wVHlwZTtcbn1cblxuLyoqXG4gKiBBIFJlYWN0IGNvbXBvbmVudCBmb3IgZGlzcGxheWluZyBkaWZmZXJlbnQgdHlwZXMgb2YgaW1hZ2VzLFxuICogaW5jbHVkaW5nIG5ldHdvcmsgaW1hZ2VzLCBzdGF0aWMgcmVzb3VyY2VzLCB0ZW1wb3JhcnkgbG9jYWwgaW1hZ2VzLCBhbmRcbiAqIGltYWdlcyBmcm9tIGxvY2FsIGRpc2ssIHN1Y2ggYXMgdGhlIGNhbWVyYSByb2xsLlxuICpcbiAqIFNlZSBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9pbWFnZS5odG1sXG4gKi9cbmxldCBJbWFnZSA9IChcbiAgcHJvcHM6IEltYWdlUHJvcHNUeXBlLFxuICBmb3J3YXJkZWRSZWY6ID9SZWFjdC5SZWY8J1JDVEltYWdlVmlldyc+LFxuKSA9PiB7XG4gIGNvbnN0IHNvdXJjZSA9IHJlc29sdmVBc3NldFNvdXJjZShwcm9wcy5zb3VyY2UpIHx8IHtcbiAgICB1cmk6IHVuZGVmaW5lZCxcbiAgICB3aWR0aDogdW5kZWZpbmVkLFxuICAgIGhlaWdodDogdW5kZWZpbmVkLFxuICB9O1xuXG4gIGxldCBzb3VyY2VzO1xuICBsZXQgc3R5bGU6IEltYWdlU3R5bGVQcm9wO1xuICBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2UpKSB7XG4gICAgLy8gJEZsb3dGaXhNZSBmbGF0dGVuU3R5bGUgaXMgbm90IHN0cm9uZyBlbm91Z2hcbiAgICBzdHlsZSA9IGZsYXR0ZW5TdHlsZShbc3R5bGVzLmJhc2UsIHByb3BzLnN0eWxlXSkgfHwge307XG4gICAgc291cmNlcyA9IHNvdXJjZTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB7d2lkdGgsIGhlaWdodCwgdXJpfSA9IHNvdXJjZTtcbiAgICAvLyAkRmxvd0ZpeE1lIGZsYXR0ZW5TdHlsZSBpcyBub3Qgc3Ryb25nIGVub3VnaFxuICAgIHN0eWxlID0gZmxhdHRlblN0eWxlKFt7d2lkdGgsIGhlaWdodH0sIHN0eWxlcy5iYXNlLCBwcm9wcy5zdHlsZV0pIHx8IHt9O1xuICAgIHNvdXJjZXMgPSBbc291cmNlXTtcblxuICAgIGlmICh1cmkgPT09ICcnKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ3NvdXJjZS51cmkgc2hvdWxkIG5vdCBiZSBhbiBlbXB0eSBzdHJpbmcnKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCByZXNpemVNb2RlID0gcHJvcHMucmVzaXplTW9kZSB8fCBzdHlsZS5yZXNpemVNb2RlIHx8ICdjb3Zlcic7XG4gIGNvbnN0IHRpbnRDb2xvciA9IHN0eWxlLnRpbnRDb2xvcjtcblxuICBpZiAocHJvcHMuc3JjICE9IG51bGwpIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICAnVGhlIDxJbWFnZT4gY29tcG9uZW50IHJlcXVpcmVzIGEgYHNvdXJjZWAgcHJvcGVydHkgcmF0aGVyIHRoYW4gYHNyY2AuJyxcbiAgICApO1xuICB9XG5cbiAgaWYgKHByb3BzLmNoaWxkcmVuICE9IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnVGhlIDxJbWFnZT4gY29tcG9uZW50IGNhbm5vdCBjb250YWluIGNoaWxkcmVuLiBJZiB5b3Ugd2FudCB0byByZW5kZXIgY29udGVudCBvbiB0b3Agb2YgdGhlIGltYWdlLCBjb25zaWRlciB1c2luZyB0aGUgPEltYWdlQmFja2dyb3VuZD4gY29tcG9uZW50IG9yIGFic29sdXRlIHBvc2l0aW9uaW5nLicsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPFJDVEltYWdlVmlld1xuICAgICAgey4uLnByb3BzfVxuICAgICAgcmVmPXtmb3J3YXJkZWRSZWZ9XG4gICAgICBzdHlsZT17c3R5bGV9XG4gICAgICByZXNpemVNb2RlPXtyZXNpemVNb2RlfVxuICAgICAgdGludENvbG9yPXt0aW50Q29sb3J9XG4gICAgICBzb3VyY2U9e3NvdXJjZXN9XG4gICAgLz5cbiAgKTtcbn07XG5cbkltYWdlID0gUmVhY3QuZm9yd2FyZFJlZihJbWFnZSk7XG5JbWFnZS5kaXNwbGF5TmFtZSA9ICdJbWFnZSc7XG5cbi8qKlxuICogUmV0cmlldmUgdGhlIHdpZHRoIGFuZCBoZWlnaHQgKGluIHBpeGVscykgb2YgYW4gaW1hZ2UgcHJpb3IgdG8gZGlzcGxheWluZyBpdC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvaW1hZ2UuaHRtbCNnZXRzaXplXG4gKi9cbi8qICRGbG93Rml4TWUoPj0wLjg5LjAgc2l0ZT1yZWFjdF9uYXRpdmVfaW9zX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjg5IHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciwgZGVsZXRlIHRoaXNcbiAqIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuSW1hZ2UuZ2V0U2l6ZSA9IGdldFNpemU7XG5cbi8qKlxuICogUHJlZmV0Y2hlcyBhIHJlbW90ZSBpbWFnZSBmb3IgbGF0ZXIgdXNlIGJ5IGRvd25sb2FkaW5nIGl0IHRvIHRoZSBkaXNrXG4gKiBjYWNoZS5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvaW1hZ2UuaHRtbCNwcmVmZXRjaFxuICovXG4vKiAkRmxvd0ZpeE1lKD49MC44OS4wIHNpdGU9cmVhY3RfbmF0aXZlX2lvc19mYikgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW5cbiAqIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC44OSB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IsIGRlbGV0ZSB0aGlzXG4gKiBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbkltYWdlLnByZWZldGNoID0gcHJlZmV0Y2g7XG5cbi8qKlxuICogUGVyZm9ybXMgY2FjaGUgaW50ZXJyb2dhdGlvbi5cbiAqXG4gKiAgU2VlIGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2ltYWdlLmh0bWwjcXVlcnljYWNoZVxuICovXG4vKiAkRmxvd0ZpeE1lKD49MC44OS4wIHNpdGU9cmVhY3RfbmF0aXZlX2lvc19mYikgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW5cbiAqIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC44OSB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IsIGRlbGV0ZSB0aGlzXG4gKiBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbkltYWdlLnF1ZXJ5Q2FjaGUgPSBxdWVyeUNhY2hlO1xuXG4vKipcbiAqIFJlc29sdmVzIGFuIGFzc2V0IHJlZmVyZW5jZSBpbnRvIGFuIG9iamVjdC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvaW1hZ2UuaHRtbCNyZXNvbHZlYXNzZXRzb3VyY2VcbiAqL1xuLyogJEZsb3dGaXhNZSg+PTAuODkuMCBzaXRlPXJlYWN0X25hdGl2ZV9pb3NfZmIpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzIGFuXG4gKiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuODkgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yLCBkZWxldGUgdGhpc1xuICogY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG5JbWFnZS5yZXNvbHZlQXNzZXRTb3VyY2UgPSByZXNvbHZlQXNzZXRTb3VyY2U7XG5cbi8qICRGbG93Rml4TWUoPj0wLjg5LjAgc2l0ZT1yZWFjdF9uYXRpdmVfaW9zX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjg5IHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciwgZGVsZXRlIHRoaXNcbiAqIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuSW1hZ2UucHJvcFR5cGVzID0gRGVwcmVjYXRlZEltYWdlUHJvcFR5cGU7XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgYmFzZToge1xuICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgfSxcbn0pO1xuXG4vKiAkRmxvd0ZpeE1lKD49MC44OS4wIHNpdGU9cmVhY3RfbmF0aXZlX2lvc19mYikgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW5cbiAqIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC44OSB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IsIGRlbGV0ZSB0aGlzXG4gKiBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbm1vZHVsZS5leHBvcnRzID0gKEltYWdlOiBDbGFzczxJbWFnZUNvbXBvbmVudFR5cGU+KTtcbiJdfQ==