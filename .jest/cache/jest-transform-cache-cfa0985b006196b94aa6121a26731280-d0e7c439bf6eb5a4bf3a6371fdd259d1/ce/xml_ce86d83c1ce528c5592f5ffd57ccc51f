c762fb9e06f6b7cba4426013bdb21875
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SvgAst = SvgAst;
exports.SvgXml = SvgXml;
exports.SvgUri = SvgUri;
exports.getStyle = getStyle;
exports.astToReact = astToReact;
exports.parse = _parse;
exports.SvgFromUri = exports.SvgFromXml = exports.tags = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf4 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _react = _interopRequireWildcard(require("react"));

var _Rect = _interopRequireDefault(require("./elements/Rect"));

var _Circle = _interopRequireDefault(require("./elements/Circle"));

var _Ellipse = _interopRequireDefault(require("./elements/Ellipse"));

var _Polygon = _interopRequireDefault(require("./elements/Polygon"));

var _Polyline = _interopRequireDefault(require("./elements/Polyline"));

var _Line = _interopRequireDefault(require("./elements/Line"));

var _Svg = _interopRequireDefault(require("./elements/Svg"));

var _Path = _interopRequireDefault(require("./elements/Path"));

var _G = _interopRequireDefault(require("./elements/G"));

var _Text = _interopRequireDefault(require("./elements/Text"));

var _TSpan = _interopRequireDefault(require("./elements/TSpan"));

var _TextPath = _interopRequireDefault(require("./elements/TextPath"));

var _Use = _interopRequireDefault(require("./elements/Use"));

var _Image = _interopRequireDefault(require("./elements/Image"));

var _Symbol = _interopRequireDefault(require("./elements/Symbol"));

var _Defs = _interopRequireDefault(require("./elements/Defs"));

var _LinearGradient = _interopRequireDefault(require("./elements/LinearGradient"));

var _RadialGradient = _interopRequireDefault(require("./elements/RadialGradient"));

var _Stop = _interopRequireDefault(require("./elements/Stop"));

var _ClipPath = _interopRequireDefault(require("./elements/ClipPath"));

var _Pattern = _interopRequireDefault(require("./elements/Pattern"));

var _Mask = _interopRequireDefault(require("./elements/Mask"));

var _jsxFileName = "/Users/jannegylling/IdeaProjects/react-native-svg/src/xml.tsx";
var tags = {
  svg: _Svg.default,
  circle: _Circle.default,
  ellipse: _Ellipse.default,
  g: _G.default,
  text: _Text.default,
  tspan: _TSpan.default,
  textPath: _TextPath.default,
  path: _Path.default,
  polygon: _Polygon.default,
  polyline: _Polyline.default,
  line: _Line.default,
  rect: _Rect.default,
  use: _Use.default,
  image: _Image.default,
  symbol: _Symbol.default,
  defs: _Defs.default,
  linearGradient: _LinearGradient.default,
  radialGradient: _RadialGradient.default,
  stop: _Stop.default,
  clipPath: _ClipPath.default,
  pattern: _Pattern.default,
  mask: _Mask.default
};
exports.tags = tags;

function missingTag() {
  return null;
}

function SvgAst(_ref) {
  var ast = _ref.ast,
      override = _ref.override;

  if (!ast) {
    return null;
  }

  var props = ast.props,
      children = ast.children;
  return _react.default.createElement(_Svg.default, (0, _extends2.default)({}, props, override, {
    __source: {
      fileName: _jsxFileName,
      lineNumber: 81
    }
  }), children);
}

function SvgXml(props) {
  var xml = props.xml,
      override = props.override;
  var ast = (0, _react.useMemo)(function () {
    return xml !== null ? _parse(xml) : null;
  }, [xml]);
  return _react.default.createElement(SvgAst, {
    ast: ast,
    override: override || props,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 92
    }
  });
}

function fetchText(uri) {
  var response;
  return _regenerator.default.async(function fetchText$(_context) {
    while (1) {
      switch (_context.prev = _context.next) {
        case 0:
          _context.next = 2;
          return _regenerator.default.awrap(fetch(uri));

        case 2:
          response = _context.sent;
          _context.next = 5;
          return _regenerator.default.awrap(response.text());

        case 5:
          return _context.abrupt("return", _context.sent);

        case 6:
        case "end":
          return _context.stop();
      }
    }
  });
}

var err = console.error.bind(console);

function SvgUri(props) {
  var uri = props.uri;

  var _useState = (0, _react.useState)(null),
      _useState2 = (0, _slicedToArray2.default)(_useState, 2),
      xml = _useState2[0],
      setXml = _useState2[1];

  (0, _react.useEffect)(function () {
    uri ? fetchText(uri).then(setXml).catch(err) : setXml(null);
  }, [uri]);
  return _react.default.createElement(SvgXml, {
    xml: xml,
    override: props,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 112
    }
  });
}

var SvgFromXml = function (_Component) {
  (0, _inherits2.default)(SvgFromXml, _Component);

  function SvgFromXml() {
    var _getPrototypeOf2;

    var _this;

    (0, _classCallCheck2.default)(this, SvgFromXml);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = (0, _possibleConstructorReturn2.default)(this, (_getPrototypeOf2 = (0, _getPrototypeOf4.default)(SvgFromXml)).call.apply(_getPrototypeOf2, [this].concat(args)));
    _this.state = {
      ast: null
    };
    return _this;
  }

  (0, _createClass2.default)(SvgFromXml, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.parse(this.props.xml);
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var xml = this.props.xml;

      if (xml !== prevProps.xml) {
        this.parse(xml);
      }
    }
  }, {
    key: "parse",
    value: function parse(xml) {
      try {
        this.setState({
          ast: xml ? _parse(xml) : null
        });
      } catch (e) {
        console.error(e);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var props = this.props,
          ast = this.state.ast;
      return _react.default.createElement(SvgAst, {
        ast: ast,
        override: props.override || props,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 140
        }
      });
    }
  }]);
  return SvgFromXml;
}(_react.Component);

exports.SvgFromXml = SvgFromXml;

var SvgFromUri = function (_Component2) {
  (0, _inherits2.default)(SvgFromUri, _Component2);

  function SvgFromUri() {
    var _getPrototypeOf3;

    var _this2;

    (0, _classCallCheck2.default)(this, SvgFromUri);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = (0, _possibleConstructorReturn2.default)(this, (_getPrototypeOf3 = (0, _getPrototypeOf4.default)(SvgFromUri)).call.apply(_getPrototypeOf3, [this].concat(args)));
    _this2.state = {
      xml: null
    };
    return _this2;
  }

  (0, _createClass2.default)(SvgFromUri, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.fetch(this.props.uri);
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var uri = this.props.uri;

      if (uri !== prevProps.uri) {
        this.fetch(uri);
      }
    }
  }, {
    key: "fetch",
    value: function fetch(uri) {
      return _regenerator.default.async(function fetch$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              _context2.prev = 0;
              _context2.t0 = this;

              if (!uri) {
                _context2.next = 8;
                break;
              }

              _context2.next = 5;
              return _regenerator.default.awrap(fetchText(uri));

            case 5:
              _context2.t1 = _context2.sent;
              _context2.next = 9;
              break;

            case 8:
              _context2.t1 = null;

            case 9:
              _context2.t2 = _context2.t1;
              _context2.t3 = {
                xml: _context2.t2
              };

              _context2.t0.setState.call(_context2.t0, _context2.t3);

              _context2.next = 17;
              break;

            case 14:
              _context2.prev = 14;
              _context2.t4 = _context2["catch"](0);
              console.error(_context2.t4);

            case 17:
            case "end":
              return _context2.stop();
          }
        }
      }, null, this, [[0, 14]]);
    }
  }, {
    key: "render",
    value: function render() {
      var props = this.props,
          xml = this.state.xml;
      return _react.default.createElement(SvgFromXml, {
        xml: xml,
        override: props,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 167
        }
      });
    }
  }]);
  return SvgFromUri;
}(_react.Component);

exports.SvgFromUri = SvgFromUri;

var upperCase = function upperCase(_match, letter) {
  return letter.toUpperCase();
};

var camelCase = function camelCase(phrase) {
  return phrase.replace(/[:\-]([a-z])/g, upperCase);
};

function getStyle(string) {
  var style = {};
  var declarations = string.split(';');
  var length = declarations.length;

  for (var i = 0; i < length; i++) {
    var declaration = declarations[i];

    if (declaration.length !== 0) {
      var split = declaration.split(':');
      var _property = split[0];
      var value = split[1];
      style[camelCase(_property.trim())] = value.trim();
    }
  }

  return style;
}

function astToReact(value, index) {
  if (typeof value === 'object') {
    var Tag = value.Tag,
        props = value.props,
        children = value.children;
    return _react.default.createElement(Tag, (0, _extends2.default)({
      key: index
    }, props, {
      __source: {
        fileName: _jsxFileName,
        lineNumber: 201
      }
    }), children.map(astToReact));
  }

  return value;
}

function repeat(str, i) {
  var result = '';

  while (i--) {
    result += str;
  }

  return result;
}

var toSpaces = function toSpaces(tabs) {
  return repeat('  ', tabs.length);
};

function locate(source, i) {
  var lines = source.split('\n');
  var nLines = lines.length;
  var column = i;
  var line = 0;

  for (; line < nLines; line++) {
    var length = lines[line].length;

    if (column >= length) {
      column -= length;
    } else {
      break;
    }
  }

  var before = source.slice(0, i).replace(/^\t+/, toSpaces);
  var beforeExec = /(^|\n).*$/.exec(before);
  var beforeLine = beforeExec && beforeExec[0] || '';
  var after = source.slice(i);
  var afterExec = /.*(\n|$)/.exec(after);
  var afterLine = afterExec && afterExec[0];
  var pad = repeat(' ', beforeLine.length);
  var snippet = "" + beforeLine + afterLine + "\n" + pad + "^";
  return {
    line: line,
    column: column,
    snippet: snippet
  };
}

var validNameCharacters = /[a-zA-Z0-9:_-]/;
var whitespace = /[\s\t\r\n]/;
var quotemarks = /['"]/;

function _parse(source) {
  var length = source.length;
  var currentElement = null;
  var state = metadata;
  var children = null;
  var root = null;
  var stack = [];

  function error(message) {
    var _locate = locate(source, i),
        line = _locate.line,
        column = _locate.column,
        snippet = _locate.snippet;

    throw new Error(message + " (" + line + ":" + column + "). If this is valid SVG, it's probably a bug. Please raise an issue\n\n" + snippet);
  }

  function metadata() {
    while (i + 1 < length && (source[i] !== '<' || !validNameCharacters.test(source[i + 1]))) {
      i++;
    }

    return neutral();
  }

  function neutral() {
    var text = '';
    var char;

    while (i < length && (char = source[i]) !== '<') {
      text += char;
      i += 1;
    }

    if (/\S/.test(text)) {
      children.push(text);
    }

    if (source[i] === '<') {
      return openingTag;
    }

    return neutral;
  }

  function openingTag() {
    var char = source[i];

    if (char === '?') {
      return neutral;
    }

    if (char === '!') {
      var start = i + 1;

      if (source.slice(start, i + 3) === '--') {
        return comment;
      }

      var end = i + 8;

      if (source.slice(start, end) === '[CDATA[') {
        return cdata;
      }

      if (/doctype/i.test(source.slice(start, end))) {
        return neutral;
      }
    }

    if (char === '/') {
      return closingTag;
    }

    var tag = getName();
    var props = {};
    var element = {
      tag: tag,
      props: props,
      children: [],
      Tag: tags[tag] || missingTag
    };

    if (currentElement) {
      children.push(element);
    } else {
      root = element;
    }

    getAttributes(props);
    var style = props.style;

    if (typeof style === 'string') {
      props.style = getStyle(style);
    }

    var selfClosing = false;

    if (source[i] === '/') {
      i += 1;
      selfClosing = true;
    }

    if (source[i] !== '>') {
      error('Expected >');
    }

    if (!selfClosing) {
      currentElement = element;
      children = element.children;
      stack.push(element);
    }

    return neutral;
  }

  function comment() {
    var index = source.indexOf('-->', i);

    if (!~index) {
      error('expected -->');
    }

    i = index + 2;
    return neutral;
  }

  function cdata() {
    var index = source.indexOf(']]>', i);

    if (!~index) {
      error('expected ]]>');
    }

    i = index + 2;
    return neutral;
  }

  function closingTag() {
    var tag = getName();

    if (!tag) {
      error('Expected tag name');
    }

    if (currentElement && tag !== currentElement.tag) {
      error("Expected closing tag </" + tag + "> to match opening tag <" + currentElement.tag + ">");
    }

    if (source[i] !== '>') {
      error('Expected >');
    }

    stack.pop();
    currentElement = stack[stack.length - 1];

    if (currentElement) {
      var _currentElement = currentElement;
      children = _currentElement.children;
    }

    return neutral;
  }

  function getName() {
    var name = '';
    var char;

    while (i < length && validNameCharacters.test(char = source[i])) {
      name += char;
      i += 1;
    }

    return name;
  }

  function getAttributes(props) {
    while (i < length) {
      if (!whitespace.test(source[i])) {
        return;
      }

      allowSpaces();
      var name = getName();

      if (!name) {
        return;
      }

      var value = true;
      allowSpaces();

      if (source[i] === '=') {
        i += 1;
        allowSpaces();
        value = getAttributeValue();

        if (!isNaN(+value) && value.trim() !== '') {
          value = +value;
        }
      }

      props[camelCase(name)] = value;
    }
  }

  function getAttributeValue() {
    return quotemarks.test(source[i]) ? getQuotedAttributeValue() : getUnquotedAttributeValue();
  }

  function getUnquotedAttributeValue() {
    var value = '';

    do {
      var char = source[i];

      if (char === ' ' || char === '>' || char === '/') {
        return value;
      }

      value += char;
      i += 1;
    } while (i < length);

    return value;
  }

  function getQuotedAttributeValue() {
    var quotemark = source[i++];
    var value = '';
    var escaped = false;

    while (i < length) {
      var char = source[i++];

      if (char === quotemark && !escaped) {
        return value;
      }

      if (char === '\\' && !escaped) {
        escaped = true;
      }

      value += escaped ? "\\" + char : char;
      escaped = false;
    }

    return value;
  }

  function allowSpaces() {
    while (i < length && whitespace.test(source[i])) {
      i += 1;
    }
  }

  var i = 0;

  while (i < length) {
    if (!state) {
      error('Unexpected character');
    }

    state = state();
    i += 1;
  }

  if (state !== neutral) {
    error('Unexpected end of input');
  }

  if (root && typeof root === 'object') {
    var r = root;
    var ast = r.children;
    r.children = ast.map(astToReact);
  }

  return root;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInhtbC50c3giXSwibmFtZXMiOlsidGFncyIsInN2ZyIsIlN2ZyIsImNpcmNsZSIsIkNpcmNsZSIsImVsbGlwc2UiLCJFbGxpcHNlIiwiZyIsIkciLCJ0ZXh0IiwiVGV4dCIsInRzcGFuIiwiVFNwYW4iLCJ0ZXh0UGF0aCIsIlRleHRQYXRoIiwicGF0aCIsIlBhdGgiLCJwb2x5Z29uIiwiUG9seWdvbiIsInBvbHlsaW5lIiwiUG9seWxpbmUiLCJsaW5lIiwiTGluZSIsInJlY3QiLCJSZWN0IiwidXNlIiwiVXNlIiwiaW1hZ2UiLCJJbWFnZSIsInN5bWJvbCIsIlN5bWJvbCIsImRlZnMiLCJEZWZzIiwibGluZWFyR3JhZGllbnQiLCJMaW5lYXJHcmFkaWVudCIsInJhZGlhbEdyYWRpZW50IiwiUmFkaWFsR3JhZGllbnQiLCJzdG9wIiwiU3RvcCIsImNsaXBQYXRoIiwiQ2xpcFBhdGgiLCJwYXR0ZXJuIiwiUGF0dGVybiIsIm1hc2siLCJNYXNrIiwiYXN0Iiwib3ZlcnJpZGUiLCJwcm9wcyIsImNoaWxkcmVuIiwieG1sIiwicGFyc2UiLCJyZXNwb25zZSIsImZldGNoIiwiZXJyIiwiY29uc29sZSIsInVyaSIsInNldFhtbCIsImZldGNoVGV4dCIsIlN2Z0Zyb21YbWwiLCJDb21wb25lbnQiLCJzdGF0ZSIsInByZXZQcm9wcyIsIlN2Z0Zyb21VcmkiLCJzZXRTdGF0ZSIsInVwcGVyQ2FzZSIsImxldHRlciIsImNhbWVsQ2FzZSIsInBocmFzZSIsInN0eWxlIiwiZGVjbGFyYXRpb25zIiwic3RyaW5nIiwibGVuZ3RoIiwiaSIsImRlY2xhcmF0aW9uIiwic3BsaXQiLCJwcm9wZXJ0eSIsInZhbHVlIiwiVGFnIiwicmVzdWx0IiwidG9TcGFjZXMiLCJyZXBlYXQiLCJ0YWJzIiwibGluZXMiLCJzb3VyY2UiLCJuTGluZXMiLCJjb2x1bW4iLCJiZWZvcmUiLCJiZWZvcmVFeGVjIiwiYmVmb3JlTGluZSIsImFmdGVyIiwiYWZ0ZXJFeGVjIiwiYWZ0ZXJMaW5lIiwicGFkIiwic25pcHBldCIsInZhbGlkTmFtZUNoYXJhY3RlcnMiLCJ3aGl0ZXNwYWNlIiwicXVvdGVtYXJrcyIsImN1cnJlbnRFbGVtZW50Iiwicm9vdCIsInN0YWNrIiwibG9jYXRlIiwibWVzc2FnZSIsIm5ldXRyYWwiLCJjaGFyIiwic3RhcnQiLCJlbmQiLCJ0YWciLCJnZXROYW1lIiwiZWxlbWVudCIsImdldEF0dHJpYnV0ZXMiLCJnZXRTdHlsZSIsInNlbGZDbG9zaW5nIiwiZXJyb3IiLCJpbmRleCIsIm5hbWUiLCJhbGxvd1NwYWNlcyIsImdldEF0dHJpYnV0ZVZhbHVlIiwiaXNOYU4iLCJnZXRRdW90ZWRBdHRyaWJ1dGVWYWx1ZSIsImdldFVucXVvdGVkQXR0cmlidXRlVmFsdWUiLCJxdW90ZW1hcmsiLCJlc2NhcGVkIiwiciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUEsTUFBQSxHQUFBLHVCQUFBLENBQUEsT0FBQSxDQUFBLE9BQUEsQ0FBQSxDQUFBOztBQU9BLElBQUEsS0FBQSxHQUFBLHNCQUFBLENBQUEsT0FBQSxtQkFBQSxDQUFBOztBQUNBLElBQUEsT0FBQSxHQUFBLHNCQUFBLENBQUEsT0FBQSxxQkFBQSxDQUFBOztBQUNBLElBQUEsUUFBQSxHQUFBLHNCQUFBLENBQUEsT0FBQSxzQkFBQSxDQUFBOztBQUNBLElBQUEsUUFBQSxHQUFBLHNCQUFBLENBQUEsT0FBQSxzQkFBQSxDQUFBOztBQUNBLElBQUEsU0FBQSxHQUFBLHNCQUFBLENBQUEsT0FBQSx1QkFBQSxDQUFBOztBQUNBLElBQUEsS0FBQSxHQUFBLHNCQUFBLENBQUEsT0FBQSxtQkFBQSxDQUFBOztBQUNBLElBQUEsSUFBQSxHQUFBLHNCQUFBLENBQUEsT0FBQSxrQkFBQSxDQUFBOztBQUNBLElBQUEsS0FBQSxHQUFBLHNCQUFBLENBQUEsT0FBQSxtQkFBQSxDQUFBOztBQUNBLElBQUEsRUFBQSxHQUFBLHNCQUFBLENBQUEsT0FBQSxnQkFBQSxDQUFBOztBQUNBLElBQUEsS0FB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ZW50IjpbImltcG9ydCBSZWFjdCwge1xuICBDb21wb25lbnQsXG4gIHVzZVN0YXRlLFxuICB1c2VFZmZlY3QsXG4gIHVzZU1lbW8sXG4gIENvbXBvbmVudFR5cGUsXG59IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWN0IGZyb20gJy4vZWxlbWVudHMvUmVjdCc7XG5pbXBvcnQgQ2lyY2xlIGZyb20gJy4vZWxlbWVudHMvQ2lyY2xlJztcbmltcG9ydCBFbGxpcHNlIGZyb20gJy4vZWxlbWVudHMvRWxsaXBzZSc7XG5pbXBvcnQgUG9seWdvbiBmcm9tICcuL2VsZW1lbnRzL1BvbHlnb24nO1xuaW1wb3J0IFBvbHlsaW5lIGZyb20gJy4vZWxlbWVudHMvUG9seWxpbmUnO1xuaW1wb3J0IExpbmUgZnJvbSAnLi9lbGVtZW50cy9MaW5lJztcbmltcG9ydCBTdmcgZnJvbSAnLi9lbGVtZW50cy9TdmcnO1xuaW1wb3J0IFBhdGggZnJvbSAnLi9lbGVtZW50cy9QYXRoJztcbmltcG9ydCBHIGZyb20gJy4vZWxlbWVudHMvRyc7XG5pbXBvcnQgVGV4dCBmcm9tICcuL2VsZW1lbnRzL1RleHQnO1xuaW1wb3J0IFRTcGFuIGZyb20gJy4vZWxlbWVudHMvVFNwYW4nO1xuaW1wb3J0IFRleHRQYXRoIGZyb20gJy4vZWxlbWVudHMvVGV4dFBhdGgnO1xuaW1wb3J0IFVzZSBmcm9tICcuL2VsZW1lbnRzL1VzZSc7XG5pbXBvcnQgSW1hZ2UgZnJvbSAnLi9lbGVtZW50cy9JbWFnZSc7XG5pbXBvcnQgU3ltYm9sIGZyb20gJy4vZWxlbWVudHMvU3ltYm9sJztcbmltcG9ydCBEZWZzIGZyb20gJy4vZWxlbWVudHMvRGVmcyc7XG5pbXBvcnQgTGluZWFyR3JhZGllbnQgZnJvbSAnLi9lbGVtZW50cy9MaW5lYXJHcmFkaWVudCc7XG5pbXBvcnQgUmFkaWFsR3JhZGllbnQgZnJvbSAnLi9lbGVtZW50cy9SYWRpYWxHcmFkaWVudCc7XG5pbXBvcnQgU3RvcCBmcm9tICcuL2VsZW1lbnRzL1N0b3AnO1xuaW1wb3J0IENsaXBQYXRoIGZyb20gJy4vZWxlbWVudHMvQ2xpcFBhdGgnO1xuaW1wb3J0IFBhdHRlcm4gZnJvbSAnLi9lbGVtZW50cy9QYXR0ZXJuJztcbmltcG9ydCBNYXNrIGZyb20gJy4vZWxlbWVudHMvTWFzayc7XG5cbmV4cG9ydCBjb25zdCB0YWdzOiB7IFt0YWc6IHN0cmluZ106IENvbXBvbmVudFR5cGUgfSA9IHtcbiAgc3ZnOiBTdmcsXG4gIGNpcmNsZTogQ2lyY2xlLFxuICBlbGxpcHNlOiBFbGxpcHNlLFxuICBnOiBHLFxuICB0ZXh0OiBUZXh0LFxuICB0c3BhbjogVFNwYW4sXG4gIHRleHRQYXRoOiBUZXh0UGF0aCxcbiAgcGF0aDogUGF0aCxcbiAgcG9seWdvbjogUG9seWdvbixcbiAgcG9seWxpbmU6IFBvbHlsaW5lLFxuICBsaW5lOiBMaW5lLFxuICByZWN0OiBSZWN0LFxuICB1c2U6IFVzZSxcbiAgaW1hZ2U6IEltYWdlLFxuICBzeW1ib2w6IFN5bWJvbCxcbiAgZGVmczogRGVmcyxcbiAgbGluZWFyR3JhZGllbnQ6IExpbmVhckdyYWRpZW50LFxuICByYWRpYWxHcmFkaWVudDogUmFkaWFsR3JhZGllbnQsXG4gIHN0b3A6IFN0b3AsXG4gIGNsaXBQYXRoOiBDbGlwUGF0aCxcbiAgcGF0dGVybjogUGF0dGVybixcbiAgbWFzazogTWFzayxcbn07XG5cbmZ1bmN0aW9uIG1pc3NpbmdUYWcoKSB7XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFTVCB7XG4gIHRhZzogc3RyaW5nO1xuICBjaGlsZHJlbjogKEFTVCB8IHN0cmluZylbXSB8IChKU1guRWxlbWVudCB8IHN0cmluZylbXTtcbiAgcHJvcHM6IHt9O1xuICBUYWc6IENvbXBvbmVudFR5cGU7XG59XG5cbmV4cG9ydCB0eXBlIFVyaVByb3BzID0geyB1cmk6IHN0cmluZyB8IG51bGw7IG92ZXJyaWRlPzogT2JqZWN0IH07XG5leHBvcnQgdHlwZSBVcmlTdGF0ZSA9IHsgeG1sOiBzdHJpbmcgfCBudWxsIH07XG5cbmV4cG9ydCB0eXBlIFhtbFByb3BzID0geyB4bWw6IHN0cmluZyB8IG51bGw7IG92ZXJyaWRlPzogT2JqZWN0IH07XG5leHBvcnQgdHlwZSBYbWxTdGF0ZSA9IHsgYXN0OiBBU1QgfCBudWxsIH07XG5cbmV4cG9ydCB0eXBlIEFzdFByb3BzID0geyBhc3Q6IEFTVCB8IG51bGw7IG92ZXJyaWRlPzogT2JqZWN0IH07XG5cbmV4cG9ydCBmdW5jdGlvbiBTdmdBc3QoeyBhc3QsIG92ZXJyaWRlIH06IEFzdFByb3BzKSB7XG4gIGlmICghYXN0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgeyBwcm9wcywgY2hpbGRyZW4gfSA9IGFzdDtcbiAgcmV0dXJuIChcbiAgICA8U3ZnIHsuLi5wcm9wc30gey4uLm92ZXJyaWRlfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L1N2Zz5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFN2Z1htbChwcm9wczogWG1sUHJvcHMpIHtcbiAgY29uc3QgeyB4bWwsIG92ZXJyaWRlIH0gPSBwcm9wcztcbiAgY29uc3QgYXN0ID0gdXNlTWVtbzxBU1QgfCBudWxsPigoKSA9PiAoeG1sICE9PSBudWxsID8gcGFyc2UoeG1sKSA6IG51bGwpLCBbXG4gICAgeG1sLFxuICBdKTtcbiAgcmV0dXJuIDxTdmdBc3QgYXN0PXthc3R9IG92ZXJyaWRlPXtvdmVycmlkZSB8fCBwcm9wc30gLz47XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGZldGNoVGV4dCh1cmk6IHN0cmluZykge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVyaSk7XG4gIHJldHVybiBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG59XG5cbmNvbnN0IGVyciA9IGNvbnNvbGUuZXJyb3IuYmluZChjb25zb2xlKTtcblxuZXhwb3J0IGZ1bmN0aW9uIFN2Z1VyaShwcm9wczogVXJpUHJvcHMpIHtcbiAgY29uc3QgeyB1cmkgfSA9IHByb3BzO1xuICBjb25zdCBbeG1sLCBzZXRYbWxdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdXJpXG4gICAgICA/IGZldGNoVGV4dCh1cmkpXG4gICAgICAgICAgLnRoZW4oc2V0WG1sKVxuICAgICAgICAgIC5jYXRjaChlcnIpXG4gICAgICA6IHNldFhtbChudWxsKTtcbiAgfSwgW3VyaV0pO1xuICByZXR1cm4gPFN2Z1htbCB4bWw9e3htbH0gb3ZlcnJpZGU9e3Byb3BzfSAvPjtcbn1cblxuLy8gRXh0ZW5kaW5nIENvbXBvbmVudCBpcyByZXF1aXJlZCBmb3IgQW5pbWF0ZWQgc3VwcG9ydC5cblxuZXhwb3J0IGNsYXNzIFN2Z0Zyb21YbWwgZXh0ZW5kcyBDb21wb25lbnQ8WG1sUHJvcHMsIFhtbFN0YXRlPiB7XG4gIHN0YXRlID0geyBhc3Q6IG51bGwgfTtcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5wYXJzZSh0aGlzLnByb3BzLnhtbCk7XG4gIH1cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wczogeyB4bWw6IHN0cmluZyB8IG51bGwgfSkge1xuICAgIGNvbnN0IHsgeG1sIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICh4bWwgIT09IHByZXZQcm9wcy54bWwpIHtcbiAgICAgIHRoaXMucGFyc2UoeG1sKTtcbiAgICB9XG4gIH1cbiAgcGFyc2UoeG1sOiBzdHJpbmcgfCBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBhc3Q6IHhtbCA/IHBhcnNlKHhtbCkgOiBudWxsIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgfVxuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBwcm9wcyxcbiAgICAgIHN0YXRlOiB7IGFzdCB9LFxuICAgIH0gPSB0aGlzO1xuICAgIHJldHVybiA8U3ZnQXN0IGFzdD17YXN0fSBvdmVycmlkZT17cHJvcHMub3ZlcnJpZGUgfHwgcHJvcHN9IC8+O1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdmdGcm9tVXJpIGV4dGVuZHMgQ29tcG9uZW50PFVyaVByb3BzLCBVcmlTdGF0ZT4ge1xuICBzdGF0ZSA9IHsgeG1sOiBudWxsIH07XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuZmV0Y2godGhpcy5wcm9wcy51cmkpO1xuICB9XG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHM6IHsgdXJpOiBzdHJpbmcgfCBudWxsIH0pIHtcbiAgICBjb25zdCB7IHVyaSB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAodXJpICE9PSBwcmV2UHJvcHMudXJpKSB7XG4gICAgICB0aGlzLmZldGNoKHVyaSk7XG4gICAgfVxuICB9XG4gIGFzeW5jIGZldGNoKHVyaTogc3RyaW5nIHwgbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgeG1sOiB1cmkgPyBhd2FpdCBmZXRjaFRleHQodXJpKSA6IG51bGwgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICB9XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIHByb3BzLFxuICAgICAgc3RhdGU6IHsgeG1sIH0sXG4gICAgfSA9IHRoaXM7XG4gICAgcmV0dXJuIDxTdmdGcm9tWG1sIHhtbD17eG1sfSBvdmVycmlkZT17cHJvcHN9IC8+O1xuICB9XG59XG5cbmNvbnN0IHVwcGVyQ2FzZSA9IChfbWF0Y2g6IHN0cmluZywgbGV0dGVyOiBzdHJpbmcpID0+IGxldHRlci50b1VwcGVyQ2FzZSgpO1xuXG5jb25zdCBjYW1lbENhc2UgPSAocGhyYXNlOiBzdHJpbmcpID0+XG4gIHBocmFzZS5yZXBsYWNlKC9bOlxcLV0oW2Etel0pL2csIHVwcGVyQ2FzZSk7XG5cbnR5cGUgU3R5bGVzID0geyBbcHJvcGVydHk6IHN0cmluZ106IHN0cmluZyB9O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3R5bGUoc3RyaW5nOiBzdHJpbmcpOiBTdHlsZXMge1xuICBjb25zdCBzdHlsZTogU3R5bGVzID0ge307XG4gIGNvbnN0IGRlY2xhcmF0aW9ucyA9IHN0cmluZy5zcGxpdCgnOycpO1xuICBjb25zdCB7IGxlbmd0aCB9ID0gZGVjbGFyYXRpb25zO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZGVjbGFyYXRpb24gPSBkZWNsYXJhdGlvbnNbaV07XG4gICAgaWYgKGRlY2xhcmF0aW9uLmxlbmd0aCAhPT0gMCkge1xuICAgICAgY29uc3Qgc3BsaXQgPSBkZWNsYXJhdGlvbi5zcGxpdCgnOicpO1xuICAgICAgY29uc3QgcHJvcGVydHkgPSBzcGxpdFswXTtcbiAgICAgIGNvbnN0IHZhbHVlID0gc3BsaXRbMV07XG4gICAgICBzdHlsZVtjYW1lbENhc2UocHJvcGVydHkudHJpbSgpKV0gPSB2YWx1ZS50cmltKCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHlsZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzdFRvUmVhY3QoXG4gIHZhbHVlOiBBU1QgfCBzdHJpbmcsXG4gIGluZGV4OiBudW1iZXIsXG4pOiBKU1guRWxlbWVudCB8IHN0cmluZyB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgeyBUYWcsIHByb3BzLCBjaGlsZHJlbiB9ID0gdmFsdWU7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUYWcga2V5PXtpbmRleH0gey4uLnByb3BzfT5cbiAgICAgICAgeyhjaGlsZHJlbiBhcyAoQVNUIHwgc3RyaW5nKVtdKS5tYXAoYXN0VG9SZWFjdCl9XG4gICAgICA8L1RhZz5cbiAgICApO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuLy8gc2xpbW1lZCBkb3duIHBhcnNlciBiYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vUmljaC1IYXJyaXMvc3ZnLXBhcnNlclxuXG5mdW5jdGlvbiByZXBlYXQoc3RyOiBzdHJpbmcsIGk6IG51bWJlcikge1xuICBsZXQgcmVzdWx0ID0gJyc7XG4gIHdoaWxlIChpLS0pIHtcbiAgICByZXN1bHQgKz0gc3RyO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmNvbnN0IHRvU3BhY2VzID0gKHRhYnM6IHN0cmluZykgPT4gcmVwZWF0KCcgICcsIHRhYnMubGVuZ3RoKTtcblxuZnVuY3Rpb24gbG9jYXRlKHNvdXJjZTogc3RyaW5nLCBpOiBudW1iZXIpIHtcbiAgY29uc3QgbGluZXMgPSBzb3VyY2Uuc3BsaXQoJ1xcbicpO1xuICBjb25zdCBuTGluZXMgPSBsaW5lcy5sZW5ndGg7XG4gIGxldCBjb2x1bW4gPSBpO1xuICBsZXQgbGluZSA9IDA7XG4gIGZvciAoOyBsaW5lIDwgbkxpbmVzOyBsaW5lKyspIHtcbiAgICBjb25zdCB7IGxlbmd0aCB9ID0gbGluZXNbbGluZV07XG4gICAgaWYgKGNvbHVtbiA+PSBsZW5ndGgpIHtcbiAgICAgIGNvbHVtbiAtPSBsZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBjb25zdCBiZWZvcmUgPSBzb3VyY2Uuc2xpY2UoMCwgaSkucmVwbGFjZSgvXlxcdCsvLCB0b1NwYWNlcyk7XG4gIGNvbnN0IGJlZm9yZUV4ZWMgPSAvKF58XFxuKS4qJC8uZXhlYyhiZWZvcmUpO1xuICBjb25zdCBiZWZvcmVMaW5lID0gKGJlZm9yZUV4ZWMgJiYgYmVmb3JlRXhlY1swXSkgfHwgJyc7XG4gIGNvbnN0IGFmdGVyID0gc291cmNlLnNsaWNlKGkpO1xuICBjb25zdCBhZnRlckV4ZWMgPSAvLiooXFxufCQpLy5leGVjKGFmdGVyKTtcbiAgY29uc3QgYWZ0ZXJMaW5lID0gYWZ0ZXJFeGVjICYmIGFmdGVyRXhlY1swXTtcbiAgY29uc3QgcGFkID0gcmVwZWF0KCcgJywgYmVmb3JlTGluZS5sZW5ndGgpO1xuICBjb25zdCBzbmlwcGV0ID0gYCR7YmVmb3JlTGluZX0ke2FmdGVyTGluZX1cXG4ke3BhZH1eYDtcbiAgcmV0dXJuIHsgbGluZSwgY29sdW1uLCBzbmlwcGV0IH07XG59XG5cbmNvbnN0IHZhbGlkTmFtZUNoYXJhY3RlcnMgPSAvW2EtekEtWjAtOTpfLV0vO1xuY29uc3Qgd2hpdGVzcGFjZSA9IC9bXFxzXFx0XFxyXFxuXS87XG5jb25zdCBxdW90ZW1hcmtzID0gL1snXCJdLztcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlKHNvdXJjZTogc3RyaW5nKTogQVNUIHwgbnVsbCB7XG4gIGNvbnN0IGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG4gIGxldCBjdXJyZW50RWxlbWVudDogQVNUIHwgbnVsbCA9IG51bGw7XG4gIGxldCBzdGF0ZSA9IG1ldGFkYXRhO1xuICBsZXQgY2hpbGRyZW4gPSBudWxsO1xuICBsZXQgcm9vdDogQVNUIHwgbnVsbCA9IG51bGw7XG4gIGxldCBzdGFjazogQVNUW10gPSBbXTtcblxuICBmdW5jdGlvbiBlcnJvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICBjb25zdCB7IGxpbmUsIGNvbHVtbiwgc25pcHBldCB9ID0gbG9jYXRlKHNvdXJjZSwgaSk7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYCR7bWVzc2FnZX0gKCR7bGluZX06JHtjb2x1bW59KS4gSWYgdGhpcyBpcyB2YWxpZCBTVkcsIGl0J3MgcHJvYmFibHkgYSBidWcuIFBsZWFzZSByYWlzZSBhbiBpc3N1ZVxcblxcbiR7c25pcHBldH1gLFxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBtZXRhZGF0YSgpIHtcbiAgICB3aGlsZSAoXG4gICAgICBpICsgMSA8IGxlbmd0aCAmJlxuICAgICAgKHNvdXJjZVtpXSAhPT0gJzwnIHx8ICF2YWxpZE5hbWVDaGFyYWN0ZXJzLnRlc3Qoc291cmNlW2kgKyAxXSkpXG4gICAgKSB7XG4gICAgICBpKys7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldXRyYWwoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5ldXRyYWwoKSB7XG4gICAgbGV0IHRleHQgPSAnJztcbiAgICBsZXQgY2hhcjtcbiAgICB3aGlsZSAoaSA8IGxlbmd0aCAmJiAoY2hhciA9IHNvdXJjZVtpXSkgIT09ICc8Jykge1xuICAgICAgdGV4dCArPSBjaGFyO1xuICAgICAgaSArPSAxO1xuICAgIH1cblxuICAgIGlmICgvXFxTLy50ZXN0KHRleHQpKSB7XG4gICAgICBjaGlsZHJlbi5wdXNoKHRleHQpO1xuICAgIH1cblxuICAgIGlmIChzb3VyY2VbaV0gPT09ICc8Jykge1xuICAgICAgcmV0dXJuIG9wZW5pbmdUYWc7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldXRyYWw7XG4gIH1cblxuICBmdW5jdGlvbiBvcGVuaW5nVGFnKCkge1xuICAgIGNvbnN0IGNoYXIgPSBzb3VyY2VbaV07XG5cbiAgICBpZiAoY2hhciA9PT0gJz8nKSB7XG4gICAgICByZXR1cm4gbmV1dHJhbDtcbiAgICB9IC8vIDw/eG1sLi4uXG5cbiAgICBpZiAoY2hhciA9PT0gJyEnKSB7XG4gICAgICBjb25zdCBzdGFydCA9IGkgKyAxO1xuICAgICAgaWYgKHNvdXJjZS5zbGljZShzdGFydCwgaSArIDMpID09PSAnLS0nKSB7XG4gICAgICAgIHJldHVybiBjb21tZW50O1xuICAgICAgfVxuICAgICAgY29uc3QgZW5kID0gaSArIDg7XG4gICAgICBpZiAoc291cmNlLnNsaWNlKHN0YXJ0LCBlbmQpID09PSAnW0NEQVRBWycpIHtcbiAgICAgICAgcmV0dXJuIGNkYXRhO1xuICAgICAgfVxuICAgICAgaWYgKC9kb2N0eXBlL2kudGVzdChzb3VyY2Uuc2xpY2Uoc3RhcnQsIGVuZCkpKSB7XG4gICAgICAgIHJldHVybiBuZXV0cmFsO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjaGFyID09PSAnLycpIHtcbiAgICAgIHJldHVybiBjbG9zaW5nVGFnO1xuICAgIH1cblxuICAgIGNvbnN0IHRhZyA9IGdldE5hbWUoKTtcbiAgICBjb25zdCBwcm9wczogeyBzdHlsZT86IFN0eWxlcyB8IHN0cmluZyB9ID0ge307XG4gICAgY29uc3QgZWxlbWVudDogQVNUID0ge1xuICAgICAgdGFnLFxuICAgICAgcHJvcHMsXG4gICAgICBjaGlsZHJlbjogW10sXG4gICAgICBUYWc6IHRhZ3NbdGFnXSB8fCBtaXNzaW5nVGFnLFxuICAgIH07XG5cbiAgICBpZiAoY3VycmVudEVsZW1lbnQpIHtcbiAgICAgIGNoaWxkcmVuLnB1c2goZWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJvb3QgPSBlbGVtZW50O1xuICAgIH1cblxuICAgIGdldEF0dHJpYnV0ZXMocHJvcHMpO1xuXG4gICAgY29uc3QgeyBzdHlsZSB9ID0gcHJvcHM7XG4gICAgaWYgKHR5cGVvZiBzdHlsZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHByb3BzLnN0eWxlID0gZ2V0U3R5bGUoc3R5bGUpO1xuICAgIH1cblxuICAgIGxldCBzZWxmQ2xvc2luZyA9IGZhbHNlO1xuXG4gICAgaWYgKHNvdXJjZVtpXSA9PT0gJy8nKSB7XG4gICAgICBpICs9IDE7XG4gICAgICBzZWxmQ2xvc2luZyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHNvdXJjZVtpXSAhPT0gJz4nKSB7XG4gICAgICBlcnJvcignRXhwZWN0ZWQgPicpO1xuICAgIH1cblxuICAgIGlmICghc2VsZkNsb3NpbmcpIHtcbiAgICAgIGN1cnJlbnRFbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICh7IGNoaWxkcmVuIH0gPSBlbGVtZW50KTtcbiAgICAgIHN0YWNrLnB1c2goZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldXRyYWw7XG4gIH1cblxuICBmdW5jdGlvbiBjb21tZW50KCkge1xuICAgIGNvbnN0IGluZGV4ID0gc291cmNlLmluZGV4T2YoJy0tPicsIGkpO1xuICAgIGlmICghfmluZGV4KSB7XG4gICAgICBlcnJvcignZXhwZWN0ZWQgLS0+Jyk7XG4gICAgfVxuXG4gICAgaSA9IGluZGV4ICsgMjtcbiAgICByZXR1cm4gbmV1dHJhbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNkYXRhKCkge1xuICAgIGNvbnN0IGluZGV4ID0gc291cmNlLmluZGV4T2YoJ11dPicsIGkpO1xuICAgIGlmICghfmluZGV4KSB7XG4gICAgICBlcnJvcignZXhwZWN0ZWQgXV0+Jyk7XG4gICAgfVxuXG4gICAgaSA9IGluZGV4ICsgMjtcbiAgICByZXR1cm4gbmV1dHJhbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3NpbmdUYWcoKSB7XG4gICAgY29uc3QgdGFnID0gZ2V0TmFtZSgpO1xuXG4gICAgaWYgKCF0YWcpIHtcbiAgICAgIGVycm9yKCdFeHBlY3RlZCB0YWcgbmFtZScpO1xuICAgIH1cblxuICAgIGlmIChjdXJyZW50RWxlbWVudCAmJiB0YWcgIT09IGN1cnJlbnRFbGVtZW50LnRhZykge1xuICAgICAgZXJyb3IoXG4gICAgICAgIGBFeHBlY3RlZCBjbG9zaW5nIHRhZyA8LyR7dGFnfT4gdG8gbWF0Y2ggb3BlbmluZyB0YWcgPCR7Y3VycmVudEVsZW1lbnQudGFnfT5gLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoc291cmNlW2ldICE9PSAnPicpIHtcbiAgICAgIGVycm9yKCdFeHBlY3RlZCA+Jyk7XG4gICAgfVxuXG4gICAgc3RhY2sucG9wKCk7XG4gICAgY3VycmVudEVsZW1lbnQgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgICBpZiAoY3VycmVudEVsZW1lbnQpIHtcbiAgICAgICh7IGNoaWxkcmVuIH0gPSBjdXJyZW50RWxlbWVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldXRyYWw7XG4gIH1cblxuICBmdW5jdGlvbiBnZXROYW1lKCkge1xuICAgIGxldCBuYW1lID0gJyc7XG4gICAgbGV0IGNoYXI7XG4gICAgd2hpbGUgKGkgPCBsZW5ndGggJiYgdmFsaWROYW1lQ2hhcmFjdGVycy50ZXN0KChjaGFyID0gc291cmNlW2ldKSkpIHtcbiAgICAgIG5hbWUgKz0gY2hhcjtcbiAgICAgIGkgKz0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmFtZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEF0dHJpYnV0ZXMocHJvcHM6IHtcbiAgICBbeDogc3RyaW5nXTogU3R5bGVzIHwgc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgICBzdHlsZT86IHN0cmluZyB8IFN0eWxlcyB8IHVuZGVmaW5lZDtcbiAgfSkge1xuICAgIHdoaWxlIChpIDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoIXdoaXRlc3BhY2UudGVzdChzb3VyY2VbaV0pKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFsbG93U3BhY2VzKCk7XG5cbiAgICAgIGNvbnN0IG5hbWUgPSBnZXROYW1lKCk7XG4gICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsZXQgdmFsdWU6IGJvb2xlYW4gfCBudW1iZXIgfCBzdHJpbmcgPSB0cnVlO1xuXG4gICAgICBhbGxvd1NwYWNlcygpO1xuICAgICAgaWYgKHNvdXJjZVtpXSA9PT0gJz0nKSB7XG4gICAgICAgIGkgKz0gMTtcbiAgICAgICAgYWxsb3dTcGFjZXMoKTtcblxuICAgICAgICB2YWx1ZSA9IGdldEF0dHJpYnV0ZVZhbHVlKCk7XG4gICAgICAgIGlmICghaXNOYU4oK3ZhbHVlKSAmJiB2YWx1ZS50cmltKCkgIT09ICcnKSB7XG4gICAgICAgICAgdmFsdWUgPSArdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcHJvcHNbY2FtZWxDYXNlKG5hbWUpXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEF0dHJpYnV0ZVZhbHVlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHF1b3RlbWFya3MudGVzdChzb3VyY2VbaV0pXG4gICAgICA/IGdldFF1b3RlZEF0dHJpYnV0ZVZhbHVlKClcbiAgICAgIDogZ2V0VW5xdW90ZWRBdHRyaWJ1dGVWYWx1ZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VW5xdW90ZWRBdHRyaWJ1dGVWYWx1ZSgpIHtcbiAgICBsZXQgdmFsdWUgPSAnJztcbiAgICBkbyB7XG4gICAgICBjb25zdCBjaGFyID0gc291cmNlW2ldO1xuICAgICAgaWYgKGNoYXIgPT09ICcgJyB8fCBjaGFyID09PSAnPicgfHwgY2hhciA9PT0gJy8nKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgdmFsdWUgKz0gY2hhcjtcbiAgICAgIGkgKz0gMTtcbiAgICB9IHdoaWxlIChpIDwgbGVuZ3RoKTtcblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFF1b3RlZEF0dHJpYnV0ZVZhbHVlKCkge1xuICAgIGNvbnN0IHF1b3RlbWFyayA9IHNvdXJjZVtpKytdO1xuXG4gICAgbGV0IHZhbHVlID0gJyc7XG4gICAgbGV0IGVzY2FwZWQgPSBmYWxzZTtcblxuICAgIHdoaWxlIChpIDwgbGVuZ3RoKSB7XG4gICAgICBjb25zdCBjaGFyID0gc291cmNlW2krK107XG4gICAgICBpZiAoY2hhciA9PT0gcXVvdGVtYXJrICYmICFlc2NhcGVkKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNoYXIgPT09ICdcXFxcJyAmJiAhZXNjYXBlZCkge1xuICAgICAgICBlc2NhcGVkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdmFsdWUgKz0gZXNjYXBlZCA/IGBcXFxcJHtjaGFyfWAgOiBjaGFyO1xuICAgICAgZXNjYXBlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFsbG93U3BhY2VzKCkge1xuICAgIHdoaWxlIChpIDwgbGVuZ3RoICYmIHdoaXRlc3BhY2UudGVzdChzb3VyY2VbaV0pKSB7XG4gICAgICBpICs9IDE7XG4gICAgfVxuICB9XG5cbiAgbGV0IGkgPSAwO1xuICB3aGlsZSAoaSA8IGxlbmd0aCkge1xuICAgIGlmICghc3RhdGUpIHtcbiAgICAgIGVycm9yKCdVbmV4cGVjdGVkIGNoYXJhY3RlcicpO1xuICAgIH1cbiAgICBzdGF0ZSA9IHN0YXRlKCk7XG4gICAgaSArPSAxO1xuICB9XG5cbiAgaWYgKHN0YXRlICE9PSBuZXV0cmFsKSB7XG4gICAgZXJyb3IoJ1VuZXhwZWN0ZWQgZW5kIG9mIGlucHV0Jyk7XG4gIH1cblxuICBpZiAocm9vdCAmJiB0eXBlb2Ygcm9vdCA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCByOiBBU1QgPSByb290O1xuICAgIGNvbnN0IGFzdDogKEFTVCB8IHN0cmluZylbXSA9IHIuY2hpbGRyZW4gYXMgKEFTVCB8IHN0cmluZylbXTtcbiAgICByLmNoaWxkcmVuID0gYXN0Lm1hcChhc3RUb1JlYWN0KTtcbiAgfVxuXG4gIHJldHVybiByb290O1xufVxuIl19