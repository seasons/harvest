37340f8152f7fa0a85d4f349f80dc709
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var DeprecatedEdgeInsetsPropType = require('DeprecatedEdgeInsetsPropType');

var React = require('React');

var PropTypes = require('prop-types');

var Touchable = require('Touchable');

var View = require('View');

var createReactClass = require('create-react-class');

var ensurePositiveDelayProps = require('ensurePositiveDelayProps');

var _require = require('DeprecatedViewAccessibility'),
    DeprecatedAccessibilityComponentTypes = _require.DeprecatedAccessibilityComponentTypes,
    DeprecatedAccessibilityRoles = _require.DeprecatedAccessibilityRoles,
    DeprecatedAccessibilityStates = _require.DeprecatedAccessibilityStates,
    DeprecatedAccessibilityTraits = _require.DeprecatedAccessibilityTraits;

var PRESS_RETENTION_OFFSET = {
  top: 20,
  left: 20,
  right: 20,
  bottom: 30
};
var OVERRIDE_PROPS = ['accessibilityComponentType', 'accessibilityLabel', 'accessibilityHint', 'accessibilityIgnoresInvertColors', 'accessibilityRole', 'accessibilityStates', 'accessibilityTraits', 'hitSlop', 'nativeID', 'onBlur', 'onFocus', 'onLayout', 'testID'];
var TouchableWithoutFeedback = createReactClass({
  displayName: 'TouchableWithoutFeedback',
  mixins: [Touchable.Mixin],
  propTypes: {
    accessible: PropTypes.bool,
    accessibilityLabel: PropTypes.node,
    accessibilityHint: PropTypes.string,
    accessibilityComponentType: PropTypes.oneOf(DeprecatedAccessibilityComponentTypes),
    accessibilityIgnoresInvertColors: PropTypes.bool,
    accessibilityRole: PropTypes.oneOf(DeprecatedAccessibilityRoles),
    accessibilityStates: PropTypes.arrayOf(PropTypes.oneOf(DeprecatedAccessibilityStates)),
    accessibilityTraits: PropTypes.oneOfType([PropTypes.oneOf(DeprecatedAccessibilityTraits), PropTypes.arrayOf(PropTypes.oneOf(DeprecatedAccessibilityTraits))]),
    onFocus: PropTypes.func,
    onBlur: PropTypes.func,
    disabled: PropTypes.bool,
    onPress: PropTypes.func,
    onPressIn: PropTypes.func,
    onPressOut: PropTypes.func,
    onLayout: PropTypes.func,
    onLongPress: PropTypes.func,
    nativeID: PropTypes.string,
    testID: PropTypes.string,
    delayPressIn: PropTypes.number,
    delayPressOut: PropTypes.number,
    delayLongPress: PropTypes.number,
    pressRetentionOffset: DeprecatedEdgeInsetsPropType,
    hitSlop: DeprecatedEdgeInsetsPropType
  },
  getInitialState: function getInitialState() {
    return this.touchableGetInitialState();
  },
  componentDidMount: function componentDidMount() {
    ensurePositiveDelayProps(this.props);
  },
  UNSAFE_componentWillReceiveProps: function UNSAFE_componentWillReceiveProps(nextProps) {
    ensurePositiveDelayProps(nextProps);
  },
  touchableHandlePress: function touchableHandlePress(e) {
    this.props.onPress && this.props.onPress(e);
  },
  touchableHandleActivePressIn: function touchableHandleActivePressIn(e) {
    this.props.onPressIn && this.props.onPressIn(e);
  },
  touchableHandleActivePressOut: function touchableHandleActivePressOut(e) {
    this.props.onPressOut && this.props.onPressOut(e);
  },
  touchableHandleLongPress: function touchableHandleLongPress(e) {
    this.props.onLongPress && this.props.onLongPress(e);
  },
  touchableGetPressRectOffset: function touchableGetPressRectOffset() {
    return this.props.pressRetentionOffset || PRESS_RETENTION_OFFSET;
  },
  touchableGetHitSlop: function touchableGetHitSlop() {
    return this.props.hitSlop;
  },
  touchableGetHighlightDelayMS: function touchableGetHighlightDelayMS() {
    return this.props.delayPressIn || 0;
  },
  touchableGetLongPressDelayMS: function touchableGetLongPressDelayMS() {
    return this.props.delayLongPress === 0 ? 0 : this.props.delayLongPress || 500;
  },
  touchableGetPressOutDelayMS: function touchableGetPressOutDelayMS() {
    return this.props.delayPressOut || 0;
  },
  render: function render() {
    var child = React.Children.only(this.props.children);
    var children = child.props.children;

    if (Touchable.TOUCH_TARGET_DEBUG && child.type === View) {
      children = React.Children.toArray(children);
      children.push(Touchable.renderDebugView({
        color: 'red',
        hitSlop: this.props.hitSlop
      }));
    }

    var overrides = {};

    for (var _i = 0, _OVERRIDE_PROPS = OVERRIDE_PROPS; _i < _OVERRIDE_PROPS.length; _i++) {
      var prop = _OVERRIDE_PROPS[_i];

      if (this.props[prop] !== undefined) {
        overrides[prop] = this.props[prop];
      }
    }

    return React.cloneElement(child, _objectSpread({}, overrides, {
      accessible: this.props.accessible !== false,
      onStartShouldSetResponder: this.touchableHandleStartShouldSetResponder,
      onResponderTerminationRequest: this.touchableHandleResponderTerminationRequest,
      onResponderGrant: this.touchableHandleResponderGrant,
      onResponderMove: this.touchableHandleResponderMove,
      onResponderRelease: this.touchableHandleResponderRelease,
      onResponderTerminate: this.touchableHandleResponderTerminate,
      children: children
    }));
  }
});
module.exports = TouchableWithoutFeedback;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRvdWNoYWJsZVdpdGhvdXRGZWVkYmFjay5qcyJdLCJuYW1lcyI6WyJEZXByZWNhdGVkRWRnZUluc2V0c1Byb3BUeXBlIiwicmVxdWlyZSIsIlJlYWN0IiwiUHJvcFR5cGVzIiwiVG91Y2hhYmxlIiwiVmlldyIsImNyZWF0ZVJlYWN0Q2xhc3MiLCJlbnN1cmVQb3NpdGl2ZURlbGF5UHJvcHMiLCJEZXByZWNhdGVkQWNjZXNzaWJpbGl0eUNvbXBvbmVudFR5cGVzIiwiRGVwcmVjYXRlZEFjY2Vzc2liaWxpdHlSb2xlcyIsIkRlcHJlY2F0ZWRBY2Nlc3NpYmlsaXR5U3RhdGVzIiwiRGVwcmVjYXRlZEFjY2Vzc2liaWxpdHlUcmFpdHMiLCJQUkVTU19SRVRFTlRJT05fT0ZGU0VUIiwidG9wIiwibGVmdCIsInJpZ2h0IiwiYm90dG9tIiwiT1ZFUlJJREVfUFJPUFMiLCJUb3VjaGFibGVXaXRob3V0RmVlZGJhY2siLCJkaXNwbGF5TmFtZSIsIm1peGlucyIsIk1peGluIiwicHJvcFR5cGVzIiwiYWNjZXNzaWJsZSIsImJvb2wiLCJhY2Nlc3NpYmlsaXR5TGFiZWwiLCJub2RlIiwiYWNjZXNzaWJpbGl0eUhpbnQiLCJzdHJpbmciLCJhY2Nlc3NpYmlsaXR5Q29tcG9uZW50VHlwZSIsIm9uZU9mIiwiYWNjZXNzaWJpbGl0eUlnbm9yZXNJbnZlcnRDb2xvcnMiLCJhY2Nlc3NpYmlsaXR5Um9sZSIsImFjY2Vzc2liaWxpdHlTdGF0ZXMiLCJhcnJheU9mIiwiYWNjZXNzaWJpbGl0eVRyYWl0cyIsIm9uZU9mVHlwZSIsIm9uRm9jdXMiLCJmdW5jIiwib25CbHVyIiwiZGlzYWJsZWQiLCJvblByZXNzIiwib25QcmVzc0luIiwib25QcmVzc091dCIsIm9uTGF5b3V0Iiwib25Mb25nUHJlc3MiLCJuYXRpdmVJRCIsInRlc3RJRCIsImRlbGF5UHJlc3NJbiIsIm51bWJlciIsImRlbGF5UHJlc3NPdXQiLCJkZWxheUxvbmdQcmVzcyIsInByZXNzUmV0ZW50aW9uT2Zmc2V0IiwiaGl0U2xvcCIsImdldEluaXRpYWxTdGF0ZSIsInRvdWNoYWJsZUdldEluaXRpYWxTdGF0ZSIsImNvbXBvbmVudERpZE1vdW50IiwicHJvcHMiLCJVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIm5leHRQcm9wcyIsInRvdWNoYWJsZUhhbmRsZVByZXNzIiwiZSIsInRvdWNoYWJsZUhhbmRsZUFjdGl2ZVByZXNzSW4iLCJ0b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc091dCIsInRvdWNoYWJsZUhhbmRsZUxvbmdQcmVzcyIsInRvdWNoYWJsZUdldFByZXNzUmVjdE9mZnNldCIsInRvdWNoYWJsZUdldEhpdFNsb3AiLCJ0b3VjaGFibGVHZXRIaWdobGlnaHREZWxheU1TIiwidG91Y2hhYmxlR2V0TG9uZ1ByZXNzRGVsYXlNUyIsInRvdWNoYWJsZUdldFByZXNzT3V0RGVsYXlNUyIsInJlbmRlciIsImNoaWxkIiwiQ2hpbGRyZW4iLCJvbmx5IiwiY2hpbGRyZW4iLCJUT1VDSF9UQVJHRVRfREVCVUciLCJ0eXBlIiwidG9BcnJheSIsInB1c2giLCJyZW5kZXJEZWJ1Z1ZpZXciLCJjb2xvciIsIm92ZXJyaWRlcyIsInByb3AiLCJ1bmRlZmluZWQiLCJjbG9uZUVsZW1lbnQiLCJvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyIiwidG91Y2hhYmxlSGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXIiLCJvblJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdCIsInRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdCIsIm9uUmVzcG9uZGVyR3JhbnQiLCJ0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJHcmFudCIsIm9uUmVzcG9uZGVyTW92ZSIsInRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlck1vdmUiLCJvblJlc3BvbmRlclJlbGVhc2UiLCJ0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJSZWxlYXNlIiwib25SZXNwb25kZXJUZXJtaW5hdGUiLCJ0b3VjaGFibGVIYW5kbGVSZXNwb25k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TGlELENBQUQsQ0FBbkQ7QUFzTEF1QixNQUFNLENBQUNDLE9BQVAsR0FBaUJoRix3QkFBakIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmb3JtYXRcbiAqIEBmbG93XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBEZXByZWNhdGVkRWRnZUluc2V0c1Byb3BUeXBlID0gcmVxdWlyZSgnRGVwcmVjYXRlZEVkZ2VJbnNldHNQcm9wVHlwZScpO1xuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdSZWFjdCcpO1xuY29uc3QgUHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuY29uc3QgVG91Y2hhYmxlID0gcmVxdWlyZSgnVG91Y2hhYmxlJyk7XG5jb25zdCBWaWV3ID0gcmVxdWlyZSgnVmlldycpO1xuXG5jb25zdCBjcmVhdGVSZWFjdENsYXNzID0gcmVxdWlyZSgnY3JlYXRlLXJlYWN0LWNsYXNzJyk7XG5jb25zdCBlbnN1cmVQb3NpdGl2ZURlbGF5UHJvcHMgPSByZXF1aXJlKCdlbnN1cmVQb3NpdGl2ZURlbGF5UHJvcHMnKTtcblxuY29uc3Qge1xuICBEZXByZWNhdGVkQWNjZXNzaWJpbGl0eUNvbXBvbmVudFR5cGVzLFxuICBEZXByZWNhdGVkQWNjZXNzaWJpbGl0eVJvbGVzLFxuICBEZXByZWNhdGVkQWNjZXNzaWJpbGl0eVN0YXRlcyxcbiAgRGVwcmVjYXRlZEFjY2Vzc2liaWxpdHlUcmFpdHMsXG59ID0gcmVxdWlyZSgnRGVwcmVjYXRlZFZpZXdBY2Nlc3NpYmlsaXR5Jyk7XG5cbmltcG9ydCB0eXBlIHtTeW50aGV0aWNFdmVudCwgTGF5b3V0RXZlbnQsIFByZXNzRXZlbnR9IGZyb20gJ0NvcmVFdmVudFR5cGVzJztcbmltcG9ydCB0eXBlIHtFZGdlSW5zZXRzUHJvcH0gZnJvbSAnRWRnZUluc2V0c1Byb3BUeXBlJztcbmltcG9ydCB0eXBlIHtcbiAgQWNjZXNzaWJpbGl0eUNvbXBvbmVudFR5cGUsXG4gIEFjY2Vzc2liaWxpdHlSb2xlLFxuICBBY2Nlc3NpYmlsaXR5U3RhdGVzLFxuICBBY2Nlc3NpYmlsaXR5VHJhaXRzLFxufSBmcm9tICdWaWV3QWNjZXNzaWJpbGl0eSc7XG5cbnR5cGUgVGFyZ2V0RXZlbnQgPSBTeW50aGV0aWNFdmVudDxcbiAgJFJlYWRPbmx5PHt8XG4gICAgdGFyZ2V0OiBudW1iZXIsXG4gIHx9Pixcbj47XG5cbnR5cGUgQmx1ckV2ZW50ID0gVGFyZ2V0RXZlbnQ7XG50eXBlIEZvY3VzRXZlbnQgPSBUYXJnZXRFdmVudDtcblxuY29uc3QgUFJFU1NfUkVURU5USU9OX09GRlNFVCA9IHt0b3A6IDIwLCBsZWZ0OiAyMCwgcmlnaHQ6IDIwLCBib3R0b206IDMwfTtcblxuY29uc3QgT1ZFUlJJREVfUFJPUFMgPSBbXG4gICdhY2Nlc3NpYmlsaXR5Q29tcG9uZW50VHlwZScsXG4gICdhY2Nlc3NpYmlsaXR5TGFiZWwnLFxuICAnYWNjZXNzaWJpbGl0eUhpbnQnLFxuICAnYWNjZXNzaWJpbGl0eUlnbm9yZXNJbnZlcnRDb2xvcnMnLFxuICAnYWNjZXNzaWJpbGl0eVJvbGUnLFxuICAnYWNjZXNzaWJpbGl0eVN0YXRlcycsXG4gICdhY2Nlc3NpYmlsaXR5VHJhaXRzJyxcbiAgJ2hpdFNsb3AnLFxuICAnbmF0aXZlSUQnLFxuICAnb25CbHVyJyxcbiAgJ29uRm9jdXMnLFxuICAnb25MYXlvdXQnLFxuICAndGVzdElEJyxcbl07XG5cbmV4cG9ydCB0eXBlIFByb3BzID0gJFJlYWRPbmx5PHt8XG4gIGFjY2Vzc2libGU/OiA/Ym9vbGVhbixcbiAgYWNjZXNzaWJpbGl0eUNvbXBvbmVudFR5cGU/OiA/QWNjZXNzaWJpbGl0eUNvbXBvbmVudFR5cGUsXG4gIGFjY2Vzc2liaWxpdHlMYWJlbD86ID9TdHJpbmdpc2gsXG4gIGFjY2Vzc2liaWxpdHlIaW50PzogP1N0cmluZ2lzaCxcbiAgYWNjZXNzaWJpbGl0eUlnbm9yZXNJbnZlcnRDb2xvcnM/OiA/Ym9vbGVhbixcbiAgYWNjZXNzaWJpbGl0eVJvbGU/OiA/QWNjZXNzaWJpbGl0eVJvbGUsXG4gIGFjY2Vzc2liaWxpdHlTdGF0ZXM/OiA/QWNjZXNzaWJpbGl0eVN0YXRlcyxcbiAgYWNjZXNzaWJpbGl0eVRyYWl0cz86ID9BY2Nlc3NpYmlsaXR5VHJhaXRzLFxuICBjaGlsZHJlbj86ID9SZWFjdC5Ob2RlLFxuICBkZWxheUxvbmdQcmVzcz86ID9udW1iZXIsXG4gIGRlbGF5UHJlc3NJbj86ID9udW1iZXIsXG4gIGRlbGF5UHJlc3NPdXQ/OiA/bnVtYmVyLFxuICBkaXNhYmxlZD86ID9ib29sZWFuLFxuICBoaXRTbG9wPzogP0VkZ2VJbnNldHNQcm9wLFxuICBuYXRpdmVJRD86ID9zdHJpbmcsXG4gIG9uQmx1cj86ID8oZTogQmx1ckV2ZW50KSA9PiB2b2lkLFxuICBvbkZvY3VzPzogPyhlOiBGb2N1c0V2ZW50KSA9PiB2b2lkLFxuICBvbkxheW91dD86ID8oZXZlbnQ6IExheW91dEV2ZW50KSA9PiBtaXhlZCxcbiAgb25Mb25nUHJlc3M/OiA/KGV2ZW50OiBQcmVzc0V2ZW50KSA9PiBtaXhlZCxcbiAgb25QcmVzcz86ID8oZXZlbnQ6IFByZXNzRXZlbnQpID0+IG1peGVkLFxuICBvblByZXNzSW4/OiA/KGV2ZW50OiBQcmVzc0V2ZW50KSA9PiBtaXhlZCxcbiAgb25QcmVzc091dD86ID8oZXZlbnQ6IFByZXNzRXZlbnQpID0+IG1peGVkLFxuICBwcmVzc1JldGVudGlvbk9mZnNldD86ID9FZGdlSW5zZXRzUHJvcCxcbiAgcmVqZWN0UmVzcG9uZGVyVGVybWluYXRpb24/OiA/Ym9vbGVhbixcbiAgdGVzdElEPzogP3N0cmluZyxcbnx9PjtcblxuLyoqXG4gKiBEbyBub3QgdXNlIHVubGVzcyB5b3UgaGF2ZSBhIHZlcnkgZ29vZCByZWFzb24uIEFsbCBlbGVtZW50cyB0aGF0XG4gKiByZXNwb25kIHRvIHByZXNzIHNob3VsZCBoYXZlIGEgdmlzdWFsIGZlZWRiYWNrIHdoZW4gdG91Y2hlZC5cbiAqXG4gKiBUb3VjaGFibGVXaXRob3V0RmVlZGJhY2sgc3VwcG9ydHMgb25seSBvbmUgY2hpbGQuXG4gKiBJZiB5b3Ugd2lzaCB0byBoYXZlIHNldmVyYWwgY2hpbGQgY29tcG9uZW50cywgd3JhcCB0aGVtIGluIGEgVmlldy5cbiAqL1xuY29uc3QgVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrID0gKChjcmVhdGVSZWFjdENsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdUb3VjaGFibGVXaXRob3V0RmVlZGJhY2snLFxuICBtaXhpbnM6IFtUb3VjaGFibGUuTWl4aW5dLFxuXG4gIHByb3BUeXBlczoge1xuICAgIGFjY2Vzc2libGU6IFByb3BUeXBlcy5ib29sLFxuICAgIGFjY2Vzc2liaWxpdHlMYWJlbDogUHJvcFR5cGVzLm5vZGUsXG4gICAgYWNjZXNzaWJpbGl0eUhpbnQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgYWNjZXNzaWJpbGl0eUNvbXBvbmVudFR5cGU6IFByb3BUeXBlcy5vbmVPZihcbiAgICAgIERlcHJlY2F0ZWRBY2Nlc3NpYmlsaXR5Q29tcG9uZW50VHlwZXMsXG4gICAgKSxcbiAgICBhY2Nlc3NpYmlsaXR5SWdub3Jlc0ludmVydENvbG9yczogUHJvcFR5cGVzLmJvb2wsXG4gICAgYWNjZXNzaWJpbGl0eVJvbGU6IFByb3BUeXBlcy5vbmVPZihEZXByZWNhdGVkQWNjZXNzaWJpbGl0eVJvbGVzKSxcbiAgICBhY2Nlc3NpYmlsaXR5U3RhdGVzOiBQcm9wVHlwZXMuYXJyYXlPZihcbiAgICAgIFByb3BUeXBlcy5vbmVPZihEZXByZWNhdGVkQWNjZXNzaWJpbGl0eVN0YXRlcyksXG4gICAgKSxcbiAgICBhY2Nlc3NpYmlsaXR5VHJhaXRzOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgIFByb3BUeXBlcy5vbmVPZihEZXByZWNhdGVkQWNjZXNzaWJpbGl0eVRyYWl0cyksXG4gICAgICBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2YoRGVwcmVjYXRlZEFjY2Vzc2liaWxpdHlUcmFpdHMpKSxcbiAgICBdKSxcbiAgICAvKipcbiAgICAgKiBXaGVuIGBhY2Nlc3NpYmxlYCBpcyB0cnVlICh3aGljaCBpcyB0aGUgZGVmYXVsdCkgdGhpcyBtYXkgYmUgY2FsbGVkIHdoZW5cbiAgICAgKiB0aGUgT1Mtc3BlY2lmaWMgY29uY2VwdCBvZiBcImZvY3VzXCIgb2NjdXJzLiBTb21lIHBsYXRmb3JtcyBtYXkgbm90IGhhdmVcbiAgICAgKiB0aGUgY29uY2VwdCBvZiBmb2N1cy5cbiAgICAgKi9cbiAgICBvbkZvY3VzOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvKipcbiAgICAgKiBXaGVuIGBhY2Nlc3NpYmxlYCBpcyB0cnVlICh3aGljaCBpcyB0aGUgZGVmYXVsdCkgdGhpcyBtYXkgYmUgY2FsbGVkIHdoZW5cbiAgICAgKiB0aGUgT1Mtc3BlY2lmaWMgY29uY2VwdCBvZiBcImJsdXJcIiBvY2N1cnMsIG1lYW5pbmcgdGhlIGVsZW1lbnQgbG9zdCBmb2N1cy5cbiAgICAgKiBTb21lIHBsYXRmb3JtcyBtYXkgbm90IGhhdmUgdGhlIGNvbmNlcHQgb2YgYmx1ci5cbiAgICAgKi9cbiAgICBvbkJsdXI6IFByb3BUeXBlcy5mdW5jLFxuICAgIC8qKlxuICAgICAqIElmIHRydWUsIGRpc2FibGUgYWxsIGludGVyYWN0aW9ucyBmb3IgdGhpcyBjb21wb25lbnQuXG4gICAgICovXG4gICAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLFxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSB0b3VjaCBpcyByZWxlYXNlZCwgYnV0IG5vdCBpZiBjYW5jZWxsZWQgKGUuZy4gYnkgYSBzY3JvbGxcbiAgICAgKiB0aGF0IHN0ZWFscyB0aGUgcmVzcG9uZGVyIGxvY2spLlxuICAgICAqL1xuICAgIG9uUHJlc3M6IFByb3BUeXBlcy5mdW5jLFxuICAgIC8qKlxuICAgICAqIENhbGxlZCBhcyBzb29uIGFzIHRoZSB0b3VjaGFibGUgZWxlbWVudCBpcyBwcmVzc2VkIGFuZCBpbnZva2VkIGV2ZW4gYmVmb3JlIG9uUHJlc3MuXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZnVsIHdoZW4gbWFraW5nIG5ldHdvcmsgcmVxdWVzdHMuXG4gICAgICovXG4gICAgb25QcmVzc0luOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYXMgc29vbiBhcyB0aGUgdG91Y2ggaXMgcmVsZWFzZWQgZXZlbiBiZWZvcmUgb25QcmVzcy5cbiAgICAgKi9cbiAgICBvblByZXNzT3V0OiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvKipcbiAgICAgKiBJbnZva2VkIG9uIG1vdW50IGFuZCBsYXlvdXQgY2hhbmdlcyB3aXRoXG4gICAgICpcbiAgICAgKiAgIGB7bmF0aXZlRXZlbnQ6IHtsYXlvdXQ6IHt4LCB5LCB3aWR0aCwgaGVpZ2h0fX19YFxuICAgICAqL1xuICAgIG9uTGF5b3V0OiBQcm9wVHlwZXMuZnVuYyxcblxuICAgIG9uTG9uZ1ByZXNzOiBQcm9wVHlwZXMuZnVuYyxcblxuICAgIG5hdGl2ZUlEOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIHRlc3RJRDogUHJvcFR5cGVzLnN0cmluZyxcblxuICAgIC8qKlxuICAgICAqIERlbGF5IGluIG1zLCBmcm9tIHRoZSBzdGFydCBvZiB0aGUgdG91Y2gsIGJlZm9yZSBvblByZXNzSW4gaXMgY2FsbGVkLlxuICAgICAqL1xuICAgIGRlbGF5UHJlc3NJbjogUHJvcFR5cGVzLm51bWJlcixcbiAgICAvKipcbiAgICAgKiBEZWxheSBpbiBtcywgZnJvbSB0aGUgcmVsZWFzZSBvZiB0aGUgdG91Y2gsIGJlZm9yZSBvblByZXNzT3V0IGlzIGNhbGxlZC5cbiAgICAgKi9cbiAgICBkZWxheVByZXNzT3V0OiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIC8qKlxuICAgICAqIERlbGF5IGluIG1zLCBmcm9tIG9uUHJlc3NJbiwgYmVmb3JlIG9uTG9uZ1ByZXNzIGlzIGNhbGxlZC5cbiAgICAgKi9cbiAgICBkZWxheUxvbmdQcmVzczogUHJvcFR5cGVzLm51bWJlcixcbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBzY3JvbGwgdmlldyBpcyBkaXNhYmxlZCwgdGhpcyBkZWZpbmVzIGhvdyBmYXIgeW91ciB0b3VjaCBtYXlcbiAgICAgKiBtb3ZlIG9mZiBvZiB0aGUgYnV0dG9uLCBiZWZvcmUgZGVhY3RpdmF0aW5nIHRoZSBidXR0b24uIE9uY2UgZGVhY3RpdmF0ZWQsXG4gICAgICogdHJ5IG1vdmluZyBpdCBiYWNrIGFuZCB5b3UnbGwgc2VlIHRoYXQgdGhlIGJ1dHRvbiBpcyBvbmNlIGFnYWluXG4gICAgICogcmVhY3RpdmF0ZWQhIE1vdmUgaXQgYmFjayBhbmQgZm9ydGggc2V2ZXJhbCB0aW1lcyB3aGlsZSB0aGUgc2Nyb2xsIHZpZXdcbiAgICAgKiBpcyBkaXNhYmxlZC4gRW5zdXJlIHlvdSBwYXNzIGluIGEgY29uc3RhbnQgdG8gcmVkdWNlIG1lbW9yeSBhbGxvY2F0aW9ucy5cbiAgICAgKi9cbiAgICBwcmVzc1JldGVudGlvbk9mZnNldDogRGVwcmVjYXRlZEVkZ2VJbnNldHNQcm9wVHlwZSxcbiAgICAvKipcbiAgICAgKiBUaGlzIGRlZmluZXMgaG93IGZhciB5b3VyIHRvdWNoIGNhbiBzdGFydCBhd2F5IGZyb20gdGhlIGJ1dHRvbi4gVGhpcyBpc1xuICAgICAqIGFkZGVkIHRvIGBwcmVzc1JldGVudGlvbk9mZnNldGAgd2hlbiBtb3Zpbmcgb2ZmIG9mIHRoZSBidXR0b24uXG4gICAgICogKiogTk9URSAqKlxuICAgICAqIFRoZSB0b3VjaCBhcmVhIG5ldmVyIGV4dGVuZHMgcGFzdCB0aGUgcGFyZW50IHZpZXcgYm91bmRzIGFuZCB0aGUgWi1pbmRleFxuICAgICAqIG9mIHNpYmxpbmcgdmlld3MgYWx3YXlzIHRha2VzIHByZWNlZGVuY2UgaWYgYSB0b3VjaCBoaXRzIHR3byBvdmVybGFwcGluZ1xuICAgICAqIHZpZXdzLlxuICAgICAqL1xuICAgIGhpdFNsb3A6IERlcHJlY2F0ZWRFZGdlSW5zZXRzUHJvcFR5cGUsXG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50b3VjaGFibGVHZXRJbml0aWFsU3RhdGUoKTtcbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgZW5zdXJlUG9zaXRpdmVEZWxheVByb3BzKHRoaXMucHJvcHMpO1xuICB9LFxuXG4gIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbihuZXh0UHJvcHM6IE9iamVjdCkge1xuICAgIGVuc3VyZVBvc2l0aXZlRGVsYXlQcm9wcyhuZXh0UHJvcHMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBgVG91Y2hhYmxlLk1peGluYCBzZWxmIGNhbGxiYWNrcy4gVGhlIG1peGluIHdpbGwgaW52b2tlIHRoZXNlIGlmIHRoZXkgYXJlXG4gICAqIGRlZmluZWQgb24geW91ciBjb21wb25lbnQuXG4gICAqL1xuICB0b3VjaGFibGVIYW5kbGVQcmVzczogZnVuY3Rpb24oZTogUHJlc3NFdmVudCkge1xuICAgIHRoaXMucHJvcHMub25QcmVzcyAmJiB0aGlzLnByb3BzLm9uUHJlc3MoZSk7XG4gIH0sXG5cbiAgdG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NJbjogZnVuY3Rpb24oZTogUHJlc3NFdmVudCkge1xuICAgIHRoaXMucHJvcHMub25QcmVzc0luICYmIHRoaXMucHJvcHMub25QcmVzc0luKGUpO1xuICB9LFxuXG4gIHRvdWNoYWJsZUhhbmRsZUFjdGl2ZVByZXNzT3V0OiBmdW5jdGlvbihlOiBQcmVzc0V2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5vblByZXNzT3V0ICYmIHRoaXMucHJvcHMub25QcmVzc091dChlKTtcbiAgfSxcblxuICB0b3VjaGFibGVIYW5kbGVMb25nUHJlc3M6IGZ1bmN0aW9uKGU6IFByZXNzRXZlbnQpIHtcbiAgICB0aGlzLnByb3BzLm9uTG9uZ1ByZXNzICYmIHRoaXMucHJvcHMub25Mb25nUHJlc3MoZSk7XG4gIH0sXG5cbiAgdG91Y2hhYmxlR2V0UHJlc3NSZWN0T2Zmc2V0OiBmdW5jdGlvbigpOiB0eXBlb2YgUFJFU1NfUkVURU5USU9OX09GRlNFVCB7XG4gICAgLy8gJEZsb3dGaXhNZSBJbnZhbGlkIHByb3AgdXNhZ2VcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5wcmVzc1JldGVudGlvbk9mZnNldCB8fCBQUkVTU19SRVRFTlRJT05fT0ZGU0VUO1xuICB9LFxuXG4gIHRvdWNoYWJsZUdldEhpdFNsb3A6IGZ1bmN0aW9uKCk6ID9PYmplY3Qge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmhpdFNsb3A7XG4gIH0sXG5cbiAgdG91Y2hhYmxlR2V0SGlnaGxpZ2h0RGVsYXlNUzogZnVuY3Rpb24oKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5kZWxheVByZXNzSW4gfHwgMDtcbiAgfSxcblxuICB0b3VjaGFibGVHZXRMb25nUHJlc3NEZWxheU1TOiBmdW5jdGlvbigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmRlbGF5TG9uZ1ByZXNzID09PSAwXG4gICAgICA/IDBcbiAgICAgIDogdGhpcy5wcm9wcy5kZWxheUxvbmdQcmVzcyB8fCA1MDA7XG4gIH0sXG5cbiAgdG91Y2hhYmxlR2V0UHJlc3NPdXREZWxheU1TOiBmdW5jdGlvbigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmRlbGF5UHJlc3NPdXQgfHwgMDtcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCk6IFJlYWN0LkVsZW1lbnQ8YW55PiB7XG4gICAgLy8gTm90ZShhdmlrKTogcmVtb3ZlIGR5bmFtaWMgdHlwZWNhc3Qgb25jZSBGbG93IGhhcyBiZWVuIHVwZ3JhZGVkXG4gICAgLy8gJEZsb3dGaXhNZSg+PTAuNDEuMClcbiAgICBjb25zdCBjaGlsZCA9IFJlYWN0LkNoaWxkcmVuLm9ubHkodGhpcy5wcm9wcy5jaGlsZHJlbik7XG4gICAgbGV0IGNoaWxkcmVuID0gY2hpbGQucHJvcHMuY2hpbGRyZW47XG4gICAgaWYgKFRvdWNoYWJsZS5UT1VDSF9UQVJHRVRfREVCVUcgJiYgY2hpbGQudHlwZSA9PT0gVmlldykge1xuICAgICAgY2hpbGRyZW4gPSBSZWFjdC5DaGlsZHJlbi50b0FycmF5KGNoaWxkcmVuKTtcbiAgICAgIGNoaWxkcmVuLnB1c2goXG4gICAgICAgIFRvdWNoYWJsZS5yZW5kZXJEZWJ1Z1ZpZXcoe2NvbG9yOiAncmVkJywgaGl0U2xvcDogdGhpcy5wcm9wcy5oaXRTbG9wfSksXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IG92ZXJyaWRlcyA9IHt9O1xuICAgIGZvciAoY29uc3QgcHJvcCBvZiBPVkVSUklERV9QUk9QUykge1xuICAgICAgaWYgKHRoaXMucHJvcHNbcHJvcF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvdmVycmlkZXNbcHJvcF0gPSB0aGlzLnByb3BzW3Byb3BdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAoUmVhY3Q6IGFueSkuY2xvbmVFbGVtZW50KGNoaWxkLCB7XG4gICAgICAuLi5vdmVycmlkZXMsXG4gICAgICBhY2Nlc3NpYmxlOiB0aGlzLnByb3BzLmFjY2Vzc2libGUgIT09IGZhbHNlLFxuICAgICAgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcjogdGhpcy50b3VjaGFibGVIYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlcixcbiAgICAgIG9uUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0OiB0aGlzXG4gICAgICAgIC50b3VjaGFibGVIYW5kbGVSZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QsXG4gICAgICBvblJlc3BvbmRlckdyYW50OiB0aGlzLnRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlckdyYW50LFxuICAgICAgb25SZXNwb25kZXJNb3ZlOiB0aGlzLnRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlck1vdmUsXG4gICAgICBvblJlc3BvbmRlclJlbGVhc2U6IHRoaXMudG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyUmVsZWFzZSxcbiAgICAgIG9uUmVzcG9uZGVyVGVybWluYXRlOiB0aGlzLnRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclRlcm1pbmF0ZSxcbiAgICAgIGNoaWxkcmVuLFxuICAgIH0pO1xuICB9LFxufSk6IGFueSk6IFJlYWN0LkNvbXBvbmVudFR5cGU8UHJvcHM+KTtcblxubW9kdWxlLmV4cG9ydHMgPSBUb3VjaGFibGVXaXRob3V0RmVlZGJhY2s7XG4iXX0=